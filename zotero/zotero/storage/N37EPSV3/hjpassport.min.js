var HJPassport=function(e){function i(n){if(t[n])return t[n].exports;var s=t[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}([function(e,i,t){var n,s,a,o,r=t(1).actions,c=t(1).flow,l=t(2),p=t(1).flow,h=(t(3),function(){switch(n.name){case r.REG_SUCCESS:a.fire("register_success_close"),window.location.reload&&window.location.reload();break;case r.CATE_SELECT:a.fire("interest_step1_close",{login:!!n.setInterest}),n.setInterest&&window.location.reload();break;case r.INTEREST_SELECT:a.fire("interest_step2_close",{login:!!n.setInterest}),n.setInterest&&window.location.reload();break;case r.LOGIN:n.isNewUser?a.fire("login_close"):a.fire("login_close_witheixst");break;case r.REGISTER:"email"===n.currentAction.view.currentMode?a.fire("register_email_close"):a.fire("register_mobile_close")}}),d={initialized:!1,container:null,version:"0.5.1",init:function(e){if(!this.initialized){$("html").attr("hp-version","0.5.1"),$.extend(l,e),t(4),t(5).selectLan(l.language.replace(/_/g,"-")),l.client=l.client||(e.container?"mobile":"pc"),l.referrer=document.referrer,n=t(16),n.initLanData=HJLan.getString("hjPassport"),o=t(17),s=t(40),a=t(81);var i;t(184);(i=e.container)?(n.mode="inline","pc"!==l.client&&i.addClass("hp-mobile-container"),window.onpopstate=function(e){var i=e.state;i&&i.name?(o.switchToView(i.name,null,!0),n.currentFlow=i.currentFlow||n.currentFlow):n.firstView&&(o.switchToView(n.firstView,n.firstViewOpts,!0),n.currentFlow=n.firstFlow||n.currentFlow)}):(n.mode="popup",i=$("<div class='hp-view-container'></div>").appendTo("body").hpdialog({close:h})),a.register(i),n.element=i,s.initTip(i),this.initialized=!0}},login:function(e){this.init(e),o.switchToFlow(c.LOGIN)},register:function(e){this.init(e),o.switchToFlow(c.REGISTER)},thirdParty:function(e){this.init(e),o.switchToFlow(c.LOGIN_THIRD)},show:function(e,i){"popup"===n.mode&&e!=p.BIND_MOBILE&&n.element.hpdialog("open");o.switchToFlow(e,i)},showView:function(e,i){o.switchToView(e,i)},showError:function(e){s.showErrorMessage(e)},_getContext:function(){return n},_getSettings:function(){return l},disableView:function(e){},selectThird:function(e){}};e.exports=d},function(e,i){e.exports={actions:{LOGIN:"login",LOGIN_SETPWD:"login-setpwd",REGISTER:"register-mobile",REGISTER_MOBILE:"register-mobile",REGISTER_EMAIL:"register-email",REGISTER_SMS:"register-sms",REGISTER_SMS_CAPTCHA:"register-sms-captcha",REGISTER_SUCCESS_RENAME:"register-success-rename",INTEREST_SELECT:"interest-select",CATE_SELECT:"category-select",REG_SUCCESS:"register-success",LOGIN_TRANSFER:"login-transfer",LOGIN_THIRD:"login-third",LOGIN_THIRD_BIND:"login-third-bind",LOGIN_BIND_MOBILE:"login-bind-mobile",LOGIN_THIRD_SUCCESS:"login-third-success",RESETPWD_CHOOSE:"resetpwd-choose",RESETPWD_SMS:"resetpwd-sms",RESETPWD_EMAIL:"resetpwd-email",RESETPWD_EMAIL_VALIDATE:"resetpwd-email-validate",RESETPWD_RESET:"resetpwd-reset",RESETPWD_SUCCESS:"resetpwd-success",RESETPWD_FAIL:"resetpwd-fail",BIND:"bind",BIND_SMS:"bind-sms",BIND_UPDATE:"bind-update",BIND_SUCCESS:"bind-success",BIND_FAIL:"bind-fail",BIND_MOBILE:"bind-mobile",USER_PROTOCOL:"user-protocol"},flow:{LOGIN:"login",REGISTER:"register",LOGIN_THIRD:"login-third",RESETPWD:"resetpwd",BIND:"bind",BIND_THIRD:"bind-third",BIND_MOBILE:"bind-mobile"},ua:{XIAOD:"com.hujiang.dict",CICHANG:"com.hjwordgames"}}},function(e,i){e.exports={container:null,API_SLD:"",skips:[],skipsOnLogin:[],skipsOnThird:[],client:"",source:"",redirectURL:encodeURIComponent(window.location.href),disable3rdParty:[],disableEmail:!1,randUserName:!0,checkSafe:!0,language:"zh-CN",backLength:null,giftSwitch:!1}},function(e,i){function t(){return c?"weixin":l?"mobile":"pc"}var n=navigator.userAgent,s=/Android/i.test(n),a=/BlackBerry/i.test(n),o=/IEMobile/i.test(n),r=/iPhone|iPad|iPod/i.test(n),c=/micromessenger/i.test(n),l=s||a||o||r,p=!c&&!l;l=!c&&l,e.exports={isWeixin:c,isMobile:l,isPC:p,isIOS:r,isAndroid:s,device:t()}},function(e,i){var t=window.HJLan={currentLan:"zh-CN",setLan:function(e){t.currentLan=e||"zh-CN"},registerLan:function(e){if("object"==typeof e&&e.lan){var i=t[e.lan]={};i[e.project]=e.items}},getString:function(e,i,n){return n=n||t.currentLan||"zh-CN","undefined"==typeof i?t[n][e]:t[n][e][i]}};e.exports=t},function(e,i,t){var n=function(e){return/en/.test(e)?void t(6):void t(11)};e.exports={selectLan:n}},function(e,i,t){var n={element:t(7),button:t(8),input:t(9),error:t(10)},s={lan:"en-US",project:"hjPassport",items:n},a=function(){HJLan.registerLan(s),HJLan.setLan(s.lan)};e.exports={init:a()}},function(e,i){e.exports={login:"Login",hujiang:"Hujiang",weibo:"Weibo",qq:"QQ",wechat:"Wechat",register:"Sign up",username:"Username",login_success_redirect_part1:"Login successfully",login_success_redirect_part2:", redirecting……",choose_reset_way:"Choose your way to reset password",resetpwd_message:"Use SMS to reset password",resetpwd_email:"Use Email to reset password",email_has_sent:"Confirmation Email has been sent to",resetpwd:"Reset password",reset_problem:"Fail to reset? Please leave a message or complain about it",savepwd:"Please remember your password",reset_success:"Password reset successfully",reset_fail:"Failed to reset password",unbind_reset_way_part1:"Your third-party account has not been binded to Hujiang account",unbind_reset_way_part2:"please user other ways to get password back",register_hujiang:"Sign up",no_hujiang:"No account",had_hujiang:"Has account",generate_hujiang_part1:"Click Register button, Hujiang account will be generated automatically and bounded with ",generate_hujiang_part2:". Then login directly through ",generate_hujiang_part3:".",bind_hujiang_part1:"Binding account with ",bind_hujiang_part2:"",register_success:"Congratulations",bind_mobile_safe:"Binding phone to ensure account security",message_captcha:"Dynamic Code",captcha_has_sent:"Dynamic Code has been sent to ",set_username:"Setup your profile",app:"Application",icon:"Icon",name:"Name",avatar:"Avatar",interest:"Your interest",chonse_third_login:"Choose QQ/Weixin/Weibo",third_login:"login with QQ/Weixin/Weibo",setpwd_first_login:"First Login, Please Set Your Password",complain_part1:"Fail to reset? Please",complain_part2:" leave a message",complain_part3:" or complain",complain_part4:" about it",agreement:"Login and Make sure you have read and accept the above Terms and Conditions",terms_conditions:"《Terms and Conditions-Hujiang》",captcha_again:"For account safety, Please verify the captcha again",cooperation:"Thank you for your cooperation",survey:"survey",exclusive_service:"Click it to obtain exclusive service",account_safe_low:"Safety level of your account is low",sent_wait:"dynamic code has been sent, please wait",quit_bind_fail:"Binding will fail if quit phone number now!",last_determine_quit:"Only one step left, exit now will cause failed login, confirm to quit?",receive_captcha_quit_register:"Receive dynamic code needs few seconds, you will register successfully after this step, whether to quit or not?",discover_follow:"Open wechat, click 'discover' on the bottom, scan the 2-D barcode to follow us",search_follow:"Search official account in wechat to follow us",identity_follow:"Press 2-D barcodes, click 'identify 2-D barcodes' to pay attention to us",first_login_get_present:"sign up and you can get a present",mobile_register_get_present:"sign up by phone to get a present",bind_mobile_get_present:"bind phone to get a present",safe_txt:"To keep safe",safe_subtxt:"please don't share your account with others",cant_receive_sms:"can't receive message？ use ",voice_captcha:"voice captcha",set_username_only:"Setup your profile"}},function(e,i){e.exports={button:"Button",login:"Login",register:"Sign up",weibo:"Weibo",qq:"QQ",wechat:"Wechat",sms:"sms",email:"Email",forget_password:"Forgot password?",sign_up_mobile:"Mobile Phone",sign_up_email:"Email",sign_in_other:"Sign in with a different way",get_dynamic_code:"Get Dynamic Code",resend:"Resend",confirm_email_address:"Confirm your email address",next_step:"Next",bind:"Binding",skip:"Skip",complete:"Complete",completeing:"Completing",confirm:"confirm",confirming:"confirming",confirm_login:"Confirm and Login",quick_login:"Quick Login",binding_enter:"Binding and Enter",no_account:"No account",had_account:"Has account",registering:"Sign up...",entering:"Entering",loading:"Loading",normal_login:"Login",mobile_quick_login:"Mobile Quick Login","try":"Try it",switch_email:"Go to email",continue_browse:"Continue to browse",reselect:"Reselect",bind_later:"Binding later",wait:"Wait",quit_now:"Quit",complete_now:"Complete",bind_weixin:"Binding account with wechat",continue_use:"Continue to use",click_join_group:"Join wechat group",cancel:"Cancel",canceling:"Canceling"}},function(e,i){e.exports={enter_email:"Enter email",captcha:"Captcha",dynamic_code:"Dynamic code",enter_username:"Username",enter_already_account:"Hujiang Account",enter_mobile:"Phone",username:"Username",email:"Email",mobile:"Phone",set_password:"Set Password (8-20 characters)",password:"Password",re_enter_password:"Re-enter Password"}},function(e,i){e.exports={not_null:"Not Null",mobile_illegal:"Illegal Phone Number",match_input:"Type the same password in both text boxes",same_username_pwd:"Can't use username as password",start_with_error_sign:"Can't start with underline or number",username_illegal:"Must be 4-20 characters without special symbol",email_illegal:"Illegal email",sms_illegal:"Message code is not correct",pwd_illegal_letter:"At least one number and letter",pwd_illegal_length:"Password must be 8-20 characters long",pwd_empty:"Password can't be null!",username_empty:"Username can't be null!",mobile_empty:"Phone number can't be null!",email_empty:"Email can't be null!",sms_empty:"Dynamic code can't be null!",captcha_empty:"Captcha can't be null!",match_username_pwd:"Username and password not match",mobile_exist:"Phone number already registered",captcha_wrong:"Captcha not match",email_exist:"Email already existed",sms_wrong:"Dynamic code not match",username_sensitive:"Username contain inpropriate characters",username_exist:"Username existed",email_unregister:"Email not registered",mobile_unregister:"Phone not registered",no_network:"No network",account_frozen:"Account has been frozen",username_inexist:"User name does not exist",username_blocked:"Account has been locked",username_unallowed:"Username does not conform to rules",third_binded:"Third Parties account has bound with other Hujiang Accounts",third_unlogin:"Third Parties account has not login",sms_exceed_times:"Please reacquire the dynamic code",pwd_find_invalid:"The first step to retrieve password has not been passed",sms_repeat_fetch:"Message can't be resent within 60 seconds",match_pwd:"Password confirmation doesn't match Password",sys_err:"system error",no_login:"not logged in",data_null:"Response is empty",para_error:"Invalid parameter",request_err:"Bad request",action_deny:"user is logged in,action denied",interest_exist:"Update failed, duplicate interests",has_bound:"Duplicated third-party account association",bind_fail:"Binding third-party account failed.",third_register_fail:"Sign up with third-party account failed",sign_up_fail:"Signing up failed",has_modify_username:"Can't modify username again",username_reach_limit:"Can't modify username again",username_is_used:"Username is taken",username_same_old:"new username can't be same with before",change_username_overdue:"Overdue action for change username",spec_username_unexisted:"User does not exists",username_null:"Username is empty",pwd_null:"Invalid username",pwd_invalid:"Invalid password",pwd_twice_diff:"two password are not the same",pwd_wrong:"Incorrect password",interest_null:"user's interest can't be null",format_err:"format error",black_ip:"the current IP is in blacklist",sms_exceed_limit:"send times of SMS has exceeded the upper limit",sms_send_fail:"Send failure",email_redirect_err:"email redirect url's parameter error",third_not_bind:"QQ/Weibo/Wechat is not bound with other QQ/Weibo/Wechat",email_invalid:"email url is invalid",third_info_fail:"QQ/Weibo/Wechat's information get failed",only_app_call:"Only supports api call through app",anonymous_info_fail:"Promote to full member failed",anonymous_trans_fail:"Promote to full member failed",invalid_token:"Invalid token",exceed_call_limit:"call has exceeded the upper limit",request_timeout:"request timeout",image_large:"Photo size should be less than 512KB",upload_avatar_fail:"Upload avatar failed, please try again",image_invalid:"Please choose a image file"}},function(e,i,t){var n={element:t(12),button:t(13),input:t(14),error:t(15)},s={lan:"zh-CN",project:"hjPassport",items:n},a=function(){HJLan.registerLan(s),HJLan.setLan(s.lan)};e.exports={init:a()}},function(e,i){e.exports={login:"登录沪江",hujiang:"沪江",weibo:"微博",qq:"QQ",wechat:"微信",register:"注册",username:"用户名",login_success_redirect_part1:"登录成功",login_success_redirect_part2:", 正在努力跳转...",choose_reset_way:"选择密码重置方式",resetpwd_message:"短信重置密码",resetpwd_email:"邮箱重置密码",email_has_sent:"确认邮件已发往",resetpwd:"密码重置",reset_problem:"重置出现问题？请留言，或者进行帐号申诉",savepwd:"请妥善保存您的密码",reset_success:"密码重置成功",reset_fail:"重置密码失败",unbind_reset_way_part1:"您的第三方帐号尚未绑定过任何沪江帐号",unbind_reset_way_part2:"重新选择密码找回方式",register_hujiang:"注册沪江帐号",no_hujiang:"无沪江帐号",had_hujiang:"有沪江帐号",generate_hujiang_part1:"点击注册按钮，自动生成一个同名沪江帐号并绑定",generate_hujiang_part2:"，今后可以通过",generate_hujiang_part3:"直接登录。",bind_hujiang_part1:"将沪江帐号与",bind_hujiang_part2:"绑定",register_success:"恭喜你注册成功",bind_mobile_safe:"绑定手机号，帐号安全妥妥滴",message_captcha:"填写短信验证码",captcha_has_sent:"验证码已发送至",set_username:"设置用户名和头像",app:"应用",icon:"图标",name:"名称",avatar:"头像",interest:"兴趣选择",chonse_third_login:"请选择第三方登录方式",third_login:"第三方登录",setpwd_first_login:"该手机号首次登录,&nbsp;请设置密码",complain_part1:"选择问题？请",complain_part2:" 留言",complain_part3:"，或者进行",complain_part4:" 帐号申诉",agreement:"注册代表您已经阅读并同意",terms_conditions:"《沪江用户协议》",captcha_again:"为保证帐户安全，请再次进行图片验证",cooperation:"感谢您的配合",survey:"沪江小调查",exclusive_service:"指尖轻触，只为贴心服务",account_safe_low:"你的帐号安全等级低",sent_wait:"验证码已发送，请稍等",quit_bind_fail:"现在放弃，手机号绑定将失败！",last_determine_quit:"只剩最后一步了，现在退出将登录失败，确认放弃吗？",receive_captcha_quit_register:"接收短信验证码需要数秒时间，您还差一步就将注册成功，是否要放弃?",discover_follow:"打开微信，点击底部的“发现”,使用“扫一扫”即可关注。",search_follow:"在微信中搜索公众号，即可关注我们",identity_follow:"长按二维码，点击“识别图中二维码”即可关注我们~",first_login_get_present:"首次登录后，领沪江500元学习福利！",mobile_register_get_present:"手机注册，领沪江500元学习福利！",bind_mobile_get_present:"绑定手机，领沪江500元学习福利！",safe_txt:"为了确保您的帐号安全",safe_subtxt:"请勿将帐号信息提供给他人/机构",bindMobileTitle:"根据国家规定相关操作需绑定手机",bindMobileSubTitle:"您的信息不会透露给第三方",cant_receieve_sms:"收不到短信？ 使用 ",voice_captcha:"语音验证码",set_username_only:"设置用户名"}},function(e,i){e.exports={button:"按钮",login:"登录",register:"注册",weibo:"微博",qq:"QQ",wechat:"微信",sms:"短信",email:"邮箱",forget_password:"忘记密码?",sign_up_mobile:"手机快速注册",sign_up_email:"邮箱快速注册",sign_in_other:"选择其它注册",get_dynamic_code:"获取动态码",resend:"重新发送",confirm_email_address:"前往邮箱确认",next_step:"下一步",bind:"绑定",skip:"跳过",complete:"完成",completing:"正在完成",confirm:"确认",confirming:"正在确认",confirm_login:"确定并进入",quick_login:"立即登录",binding_enter:"绑定并进入",no_account:"无沪江帐号",had_account:"有沪江帐号",registering:"正在注册",entering:"正在进入",loading:"登录中",normal_login:"普通登录",mobile_quick_login:"手机快速登录","try":"试用一下",switch_email:"前往邮箱",continue_browse:"继续浏览",reselect:"重新选择",bind_later:"暂不绑定",wait:"再等等",quit_now:"先放弃",complete_now:"去完成",bind_weixin:"绑定微信",continue_use:"继续使用",click_join_group:"一键加群",cancel:"取消",canceling:"取消中"}},function(e,i){e.exports={enter_email:"填写邮箱",captcha:"验证码",dynamic_code:"动态码",enter_username:"填写用户名",enter_already_account:"填写已有沪江帐号",enter_mobile:"填写手机号",username:"用户名",email:"邮箱",mobile:"手机",set_password:"设置密码（8-20位字符）",password:"密码",re_enter_password:"确认密码"}},function(e,i){e.exports={not_null:"不能为空",mobile_illegal:"手机号码不合法",match_input:"必须于上一次的输入相同",same_username_pwd:"用户名和密码不能相同",start_with_error_sign:"不能以下划线或数字开头",username_illegal:"用户名为4-20个不含特殊符号的字符",email_illegal:"邮件格式不合法",sms_illegal:"短信码格式不正确",pwd_illegal_letter:"密码不能使用纯数字或纯字母",pwd_illegal_length:"密码长度为8-20位",pwd_empty:"密码不能为空!",username_empty:"用户名不能为空!",mobile_empty:"手机号码不能为空!",email_empty:"邮箱不能为空!",sms_empty:"动态码不能为空！",captcha_empty:"验证码不能为空!",match_username_pwd:"用户名密码不匹配",mobile_exist:"该手机号已注册",captcha_wrong:"图片验证码输入错误",email_exist:"email已存在",sms_wrong:"动态码输入错误",username_sensitive:"用户名不可以包含敏感词哦",username_exist:"用户名与其他沪江帐号重名",email_unregister:"email未注册",mobile_unregister:"手机未注册",no_network:"无网络链接",account_frozen:"帐号被冻结",username_inexist:"用户名不存在",username_blocked:"用户帐号被锁定",username_unallowed:"用户名不符合规则",third_binded:"第三方帐号已绑定其它沪江帐号",third_unlogin:"第三方帐号未登录",sms_exceed_times:"动态码错误次数过多，请重新获取",pwd_find_invalid:"找回密码第一步未通过验证",sms_repeat_fetch:"60秒内不能重复发送短信",match_pwd:"两次密码输入不一致",sys_err:"系统错误",no_login:"沪江帐号未登录",data_null:"返回数据记录为空",para_error:"参数错误",request_err:"请求方式错误",action_deny:"用户已登录，action不允许被调用",interest_exist:"用户兴趣已存在，更新兴趣失败",has_bound:"沪江帐号已与其它第三方帐号绑定",bind_fail:"第三方帐号绑定沪江帐号操作失败",third_register_fail:"第三方帐号注册沪江帐号失败",sign_up_fail:"注册失败",has_modify_username:"已修改过用户名，无法再修改",username_reach_limit:"已达到修改用户名次数上限",username_is_used:"新用户名重复",username_same_old:"原用户名与新用户名一致",change_username_overdue:"修改用户名过期",spec_username_unexisted:"指定的用户不存在",username_null:"用户名为空",pwd_null:"密码为空",pwd_invalid:"密码不符合规范",pwd_twice_diff:"二次密码不匹配",pwd_wrong:"密码不正确",interest_null:"领域不能为空",format_err:"数据格式错误",black_ip:"当前Ip在黑名单中，拒绝注册操作",sms_exceed_limit:"当日手机发送短信次数超限",sms_send_fail:"发送失败",email_redirect_err:"邮件链接回跳地址 参数异常",third_not_bind:"第三方帐号未绑定沪江帐号",email_invalid:"email链接失效",third_info_fail:"第三方信息获取失败",only_app_call:"不是app 不能调用",anonymous_info_fail:"匿名用户转正式 调用hjapi accesstoken获取用户失败",anonymous_trans_fail:"匿名用户转正式用户 失败",invalid_token:"无效Token",exceed_call_limit:"超出调用次数限制",request_timeout:"请求超时",image_large:"头像图片不能大于512KB",upload_avatar_fail:"上传头像失败，请重试",image_invalid:"请选择图片文件作为头像"}},function(e,i){e.exports={element:null,categoryId:1e3,username:null,mobile:null,email:null,password:null,currentFlow:null,currentAction:null,previousFlow:null,thirdLoginLinks:{},thirdResetLinks:{},thirdBindLinks:{},cookie:null,ticket:null,lanData:null,reg3rd:!1}},function(e,i,t){var n=t(16),s=t(18),a=t(183),o=t(2),r=t(44),c=function(){},l=function(e,i){return/^__/.test(i)&&"function"==typeof e[i]},p=function(e,i){for(var t in e)if(l(e,t)){var n=t.replace(/^__/,"");i.on(n,function(){var i=t;return function(){e[i]&&e[i].apply(e,arguments)}}())}};c.prototype={init:function(){},skiped:function(){},show:function(e){this.view.show(e)},load:function(e){this.initialized||(this.view=s[this.key],this.view.element.hide(),n.element.append(this.view.element),p(this,this.view),this.init(),this.initPartial&&this.initPartial(),this.initialized=!0),this.show(e)}},e.exports={switchToView:a.switchToView,switchToFlow:a.switchToFlow,historyBack:function(){history.back()},redirect:function(){o.backLength&&"popup"!==n.mode?window.history.go(-o.backLength)&&window.location.reload():o.redirectURL&&"popup"!==n.mode?window.location.replace(decodeURIComponent(o.redirectURL)):window.location.reload()},oauthRedirect:function(){if(o.oauth)return this.redirect(),!0},register:function(e,i,t){t||(t=i,i=[]);var n=r(c,i,t),s=new n;s.key=e,a.actions[e]=s}}},function(e,i,t){var n=t(19).views;t(45),t(67),t(73),t(78),t(84),t(88),t(92),t(96),t(100),t(104),t(110),t(114),t(118),t(122),t(126),t(130),t(134),t(138),t(142),t(146),t(151),t(155),t(159),t(163),t(167),t(171),t(175),t(179),e.exports=n},function(e,i,t){var n=t(20),s=t(44),a={};i.register=function(e,i,t){if(a[e])throw"This view already existed!";t||(t=i,i=[]);var o=s(n,i,t),r=new o(t);r.name=e,a[e]=r},i.views=a},function(e,i,t){t(21);var n=t(39),s=t(16),a=(t(40),function(e){e&&(this._init(e),this.initialized=!0)});a.prototype={_init:function(e){var i=e.template,t=$.extend({},e.templateInitData,s.initLanData);i=n(i,t),this.element=$(i),this.callbacks={},this.init(),this.initPartial&&this.initPartial()},init:function(){},show:function(){this.element.show(),this.update.apply(this,arguments)},showErrorOnField:function(e,i,t,n){this.element.hpvalidator("showError",e,i,t,n)},update:function(){},on:function(e,i){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(i),this},trigger:function(e,i){var t=this.callbacks[e];if(t){i=Array.prototype.slice.call(arguments,1);for(var n=0,s=t.length;n<s;n++)"function"==typeof t[n]&&t[n].apply(this,i)}}},e.exports=a},function(e,i){},,,,,,,,,,,,,,,,,,function(e,i){e.exports=function(e,i){e=String(e);var t=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return t.length?(t=1==t.length&&null!==i&&/\[object (Array|Object)\]/.test(n.call(i))?i:t,e.replace(/\{\{(.+?)\}\}/g,function(e,i){for(var s,a=i.split("."),o=a.shift(),r=t;o;){if(void 0===r[o]){r=void 0;break}r=r[o],o=a.shift()}return s=r,"[object Function]"===n.call(s)&&(s=s(i)),void 0===s?"":s})):e}},function(e,i,t){var n=(t(41),t(16),t(1).flow),s="hp-disabled",a='<div class="hp-common-info">   <p class="hp-common-info-line">提示</p></div>',o=function(e,i){if("undefined"!=typeof e){i=Array.prototype.slice.call(arguments,1);for(var t=0,n=i.length;t<n;t++)if(i[t]===e)return!0;return!1}};e.exports={initTip:function(e){this.errorTip=$(a).appendTo(e),this.errorTip.hperrortip()},showTip:function(e,i,n){var a=t(43).errorMap,o=HJLan.getString("hjPassport","error");if(e=o[a[i]]||e,i&&404===i){var r=n&&n.element&&n.element.find(".hp-dtm-resend."+s);r&&r.length&&r.removeClass(s),n&&n._updateTimer&&n._updateTimer(),e='<span class="hp-common-info-icon hp-icon-network-error"></span>'+e}this.errorTip.hperrortip("show",e)},showErrorMessage:function(e,i,t,n,s){"undefined"==typeof i?(i=e,this.showTip(i)):this.showErrorByCode(e,i,t,n,s)},showErrorByCode:function(e,i,s,a,r){var c="",l=!1;if(o(e,1006,1101,1102,1103,1104,1201,1202,1301,1302,1303,1304,1401,1501,1502)&&s&&s._updateCaptcha&&s._updateCaptcha(),o(e,1004,1008)&&s&&s._showCaptcha&&s._updateCaptcha&&(s._showCaptcha(!0),s._updateCaptcha()),o(e,1004,1302,1401,1501)&&s&&s._updateTimer&&s._updateTimer(),o(e,1101,1102,1103,1104,1201,1202,1301,1304))c="username";else if(o(e,1302,1501))c="mobile";else if(o(e,1303,1502))c="email";else if(1004===e)c="captcha";else if(o(e,1006,1008))c="sms";else if(1503===e){var p=t(17);window.setTimeout(function(){p.switchToFlow(n.LOGIN)},3e3)}else 1401===e&&(c=s.element.find('[name="sms"]').length?"sms":s.element.find("input").first().attr("name"));l||(c&&s.element.find("[name="+c+"]").length?s.showErrorOnField(c,i,e,a):this.showTip(i,e,s))}}},function(e,i,t){var n=t(42);e.exports=n.extend("Errortip",{render:function(){this.element.hide()},_registerOuterClick:function(){var e=this,i=$(document);i.unbind("click.errortip"),setTimeout(function(){i.bind("click.errortip",function(i){e.hide()})},10)},show:function(e){var i=this;this.element.children(":first").html(e),this.element.css({display:"table"}),this._registerOuterClick();setTimeout(function(){i.hide()},2e3)},hide:function(){this.element.hide(),$(document).unbind("click.errortip")}})},function(e,i){var t=Object.prototype.hasOwnProperty,n=Array.prototype.slice,s=function(e){for(var i,t,a=n.call(arguments,1),o=0,r=a.length;o<r;o++)for(i in a[o])t=a[o][i],a[o].hasOwnProperty(i)&&void 0!==t&&($.isPlainObject(t)?e[i]=$.isPlainObject(e[i])?s({},e[i],t):s({},t):e[i]=t);return e},a=function(e,i){window.$&&($.fn[e]=function(t){var s="string"==typeof t,a=n.call(arguments,1),o=this;return s?this.each(function(){var i,n,s=c[$(this).attr("data-hp-widgets")];if(!s)throw"No widget found!";if(n=s[e],!n)throw"Cannot call method before "+e+" initialized!";if("function"!=typeof n[t])throw"There is no method called "+t;if(i=n[t].apply(n,a),i!==n&&void 0!==i)return o=i&&i.jquery?o.pushStack(i.get()):i,!1}):this.each(function(){var n=$(this),s=new i(n,t);n.attr("data-hp-widgets",r),c[r+""]=c[r+""]||{},c[r+""][e]=s,r++}),o})},o=function(){},r=0,c={},l=function(){};o.prototype={options:{enabled:!0},_createWidget:function(e,i){var t=this;t.options=s({},t.options,i),t.element=e,t.render(),t._trigger("create",null,t._getCreateEventData()),t.init()},_getCreateEventData:function(){return{el:this.element}},render:l,init:l,_destroy:l,_invoke:function(e,i,t){var s=this.options[e],t=n.call(arguments,2);if("function"==typeof s)return s.apply(i,t)},_trigger:function(e,i,t){var n=this.options[e];if("function"==typeof n)return n.call(this.element[0],i,t)},destroy:function(){this._destroy(),this.element.unbind(this.ns).removeData(this.widgetFullName)}},o.extend=function(e,i){function n(){this.constructor=l}var o,r,c,l=function(e,i){this._createWidget(e,i)};o=this,c="hp"+e.toLowerCase();for(var p in o)t.call(o,p)&&(l[p]=o[p]);return n.prototype=o.prototype,r=new n,l.__super__=o.prototype,r.options=s({},r.options),l.prototype=s(r,i,{widgetName:e}),a(c,l),l},e.exports=o},function(e,i,t){var n,s=t(3),a=t(2),o=function(){return a.API_SLD||"//pass"},r=function(){return o()+".hujiang.com/handler/synclogout.aspx"},c=function(){var e=s.isPC?"profile":"my";return o().replace(/pass/,e)},l=function(){return o().replace(/pass/,"my").replace(/https:|http:/,"")},p=function(){var e=window.location.host,i=e.split("."),t=i.length;return i=i[t-2]+"."+i[t-1]},n=function(e){return o()+".hujiang.com/Handler/UCenter?action="+e};e.exports={getAPISLD:o,genAPIUrl:n,genLoginOutUrl:r,getAccountSLD:c,getHost:p,getUploadDomain:l()+"."+p(),originDomain:document.domain,thirdLoginDomain:document.domain.replace(/.*((?:hujiang|cctalk|hjenglish|hjclass|hjact|yeshj)\.com).*/,"$1"),SSODomains:["hujiang.com","yeshj.com","cctalk.com","hjenglish.com","hjclass.com","hjact.com"],agreementLink:o()+".hujiang.com/"+(s.isPC?"":"m/")+"agreement",fillUserInfoUrl:c()+".hujiang.com/account"+(s.isPC?"":"/m"),unameCookie:"HJ_USER_NAME",uidCookie:"HJ_USER_ID",bindMobileCookie:"HJ_SKIP_BIND_MOBILE",bindMobileExpires:259200,EMAIL_DOMAIN:{"@qq.com":"http://mail.qq.com","@163.com":"http://mail.163.com","@126.com":"http://mail.126.com","@sina.com":"http://mail.sina.com","@hujiang.com":"http://mail.hujiang.com","@hotmail.com":"http://mail.hotmail.com","@gmail.com":"http://mail.google.com"},keyCode:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},pattern:{cell:/^1[34578]\d{9}$/},errorMap:{404:"no_network",999:"sys_err",1001:"no_login",1002:"data_null",1003:"para_error",1004:"captcha_wrong",1005:"request_err",1006:"sms_wrong",1007:"action_deny",1008:"sms_exceed_times",1101:"account_frozen",1102:"match_username_pwd",1103:"username_inexist",1104:"username_blocked",1105:"interest_exist",1201:"third_unlogin",1202:"third_binded",1203:"has_bound",1204:"bind_fail",1205:"third_register_fail",1210:"sign_up_fail",1211:"match_username_pwd",1212:"has_modify_username",1213:"username_reach_limit",1214:"username_is_used",1215:"username_same_old",1216:"change_username_overdue",1220:"spec_username_unexisted",1221:"username_null",1222:"username_invalid",1223:"pwd_null",1224:"pwd_invalid",1225:"pwd_twice_diff",1226:"pwd_wrong",1300:"interest_null",1301:"username_unallowed",1302:"mobile_exist",1303:"email_exist",1304:"username_exist",1305:"format_err",1306:"black_ip",1307:"sign_up_fail",1308:"same_username_pwd",1360:"username_same_old",1361:"change_username_overdue",1362:"change_username_overdue",1401:"sms_repeat_fetch",1402:"sms_exceed_limit",1403:"sms_send_fail",1501:"mobile_unregister",1502:"email_unregister",1503:"pwd_find_invalid",1504:"email_redirect_err",1505:"third_not_bind",1506:"email_invalid",1507:"third_info_fail",1601:"only_app_call",1602:"anonymous_info_fail",1603:"anonymous_trans_fail",1701:"invalid_token",1702:"exceed_call_limit",13011:"username_exist"}}},function(e,i){var t=function(e,i,t){for(var n=[e],s=[],a=i.length,o=0;o<a;o++)i[o]._initPartial&&s.push(i[o]._initPartial),n.push(i[o]);(a=s.length)&&(e.initPartial=function(){for(var e=0;e<a;e++)s[e].apply(this,arguments)}),n.push(t),$.extend.apply(null,n)};e.exports=function(e,i,n){var s=function(){e.apply(this,arguments)};return s.prototype=new e,t(s.prototype,i,n),s}},function(e,i,t){t(46);var n=t(19),s=(t(39),t(48),t(49),t(50),t(52).Tabs,t(57),t(3),t(2)),a=(t(43),"hp-disabled"),o="hp-hide",r="********",c=HJLan.getString("hjPassport","button").loading,l=HJLan.getString("hjPassport","button").login,p=HJLan.getString("hjPassport","button").cancel,h=HJLan.getString("hjPassport","button").canceling,d=t(59),u=t(64),f=t(65),g={mobile:{required:HJLan.getString("hjPassport","error").mobile_empty}},m=$.browser&&$.browser.msie&&parseInt($.browser.version,10)<10;n.register("login",[d,f,u],{template:t(66),init:function(){var e=this,i=e.element,t=i.find("#hp-login-normal"),n=i.find("#hp-login-quick"),a="keyup";e.currentMode="normal",e.isShowCaptcha={normal:!1,quick:!1},i.find("input").hpinput(),i.find(".hp-tabs").hptabs({selectedIndexChanged:function(i,s){e.currentMode=0===s.index?"normal":"quick",e.currentTab=0===s.index?t:n,m||e.focus(),e._switchCaptcha(),e._renderCaptcha(),e.trigger("tabIndexChanged",e.currentMode)}}),e.submitBtn=i.find(".hp-btn");var o={validated:function(i){var t=this,n=$(i.element).val();i.validated?e.trigger("checkList",n,function(i,n,s,a){i?(e.isShowCaptcha.quick=!a,e._switchCaptcha(),e._toggleDtm(!0),t.showValid("mobile")):(e._toggleDtm(!1),t.showError("mobile",n,s,!0))}):e._toggleDtm(!1)}};n.hpvalidator({messages:g,fields:{mobile:o}}),t.hpvalidator({events:"focusin",validClass:""}),i.on("click",".hp-user-del",function(){e._switchAvatar(!1),e.trigger("clear")}).on(a,"input",function(i){13===i.keyCode&&e._handleLogin()}).on("click",".hp-register",function(i){e.trigger("registerClick"),i.preventDefault()}).on("click",".hp-btn",function(){e._handleLogin()}).on("click",".hp-forgot",function(){e.trigger("forgotPwd")}).on("click",".hp-back",function(){e.trigger("previous")}).on("click",".hp-btn-cancel",function(){e.trigger("cancelConfirm")}),"pc"===s.client&&i.find(".hp-back").hide()},initUserHint:function(e){var i,t=this,n=t.element,a=function(e,i){t.trigger("handleAutoFill",{word:e,list:s.history_user_list,key:"account",select:i}),n.find(".hp-hint-menu").hide()};e.uid&&a(e.uname,!1),n.find(".hp-username").hphint({source:e.ulist,select:function(){a.call(this,arguments[1].item.value,!0)}}),this.hintMenu=n.find(".hp-hint-menu"),this.pwdInput=n.find(".hp-password"),n.on({input:function(){t.pwdInput.attr("data-pwd-token")&&(t.pwdInput.val(""),t.pwdInput.removeAttr("data-pwd-token"))},blur:function(){i=setTimeout(function(){t.hintMenu.hide()},200)}},".hp-username").on("input",".hp-password",function(){t.pwdInput.removeAttr("data-pwd-token")}).on("click",".hp-btn-drop-list",function(s){n.find(".hp-username").focus(),clearInterval(i),t.hintMenu.is(":visible")?(t.hintMenu.removeClass("hp-hint-menu-layout").hide().empty(),n.find(".hp-input-username").removeClass("hp-input-hint-active")):(t.hintMenu.empty().addClass("hp-hint-menu-layout"),$.each(e.ulist,function(e,i){$('<li class="hp-hint-menu-item"><a tabindex="-1">'+i+"</a></li>").data("hp-ac-data",i).appendTo(t.hintMenu)}),n.find(".hp-input-username").addClass("hp-input-hint-active"),t.hintMenu.show())})},_handleAutoFill:function(e){var i=this,t=i.element;t.find(".hp-username").val(e.uname),t.find(".hp-password").val(""),e.raw?t.find(".hp-password").attr("data-pwd-token","true").val(r):t.find(".hp-password").removeAttr("data-pwd-token").val("")},showErrorOnField:function(e,i,t,n){this.currentTab.hpvalidator("showError",e,i,t,n)},_handleLogin:function(){var e=this.currentTab;!this.submitBtn.hasClass(a)&&e.hpvalidator("valid")&&e.hpvalidator("valid")&&(this.disableSubmit(!0),"normal"===this.currentMode?this.trigger("checkLogin",{userName:e.find(".hp-username").val(),password:e.find(".hp-password").val(),imgcode:e.find(".hp-captcha").val(),isRawPwd:!!this.element.find(".hp-password").attr("data-pwd-token"),loginType:"normal"}):this.trigger("checkLogin",{mobile:e.find(".hp-mobileno").val(),msgpwd:e.find(".hp-dtm").val(),loginType:"quick"}))},disableSubmit:function(e){var i=this.element.find(".hp-btn");
e?i.addClass(a).text(c):i.removeClass(a).text(l)},_showCaptcha:function(e,i){var t=this.currentTab.find(".hp-input-captcha"),n=t.find(".hp-captcha");e?(this.isShowCaptcha[this.currentMode]=!0,t.removeClass(o),n.removeAttr("disabled")):(this.isShowCaptcha[this.currentMode]=!1,t.addClass(o),n.attr("disabled","disabled")),i&&n.val("")},_switchCaptcha:function(){this.isShowCaptcha&&(this.isShowCaptcha[this.currentMode]?this._showCaptcha(!0):this._showCaptcha(!1))},_switchAvatar:function(e){var i=this.element;i.find(".hp-input-username").show(),i.find(".hp-input-userinfo").hide(),e||this._clear(),this.trigger("switchAvatar",e)},_clear:function(){var e=this.element;e.find(".hp-password").val(""),e.find(".hp-username").val("")},updateAvatar:function(e,i,t){var n=this.element.find(".hp-input-username");n.find(".hp-username").val(e),t&&this.element.find(".hp-password").val(t)},updateCover:function(e,i){var t=this.element.find(".hp-app-cover");t.find(".hp-app-name").text(e),t.find(".hp-app-icon").attr("src",i)},update:function(e){"undefined"==typeof e?this.tabLoginPage(!0):this.tabLoginPage(e);this.focus()},focus:function(){var e=this.element.find("#hp-login-quick");e.find("input").first().focus()},tabLoginPage:function(e){this.element.each(function(){$(this).hasClass("hp-login-wrap")&&(e?$(this).show():$(this).hide()),$(this).hasClass("hp-loading-wrap")&&(e?$(this).hide():$(this).show())})},tabCancelText:function(e){var i=e?p:h;this.element.find(".hp-btn-cancel").html(i)},reset:function(e){var i=this,t=i.element;t.find("#hp-login-normal")},updateCaptcha:function(e){var i=this;i.isShowCaptcha[e]&&(i._switchCaptcha(),i._updateCaptcha())},initShowCaptcha:function(e,i){var t=this,n=function(){t._showCaptcha(!0),t._updateCaptcha()};t.isShowCaptcha.normal=e,t.isShowCaptcha.quick=e,e&&n()}})},function(e,i){},,function(e,i,t){var n=t(42),s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,a=/^1[34578]\d{9}$/,o=/^(?![0-9]+$)(?![a-zA-Z]+$).*$/,r=/^.{8,20}$/,c=/^[^_\d].*/,l=/^[a-zA-Z\u4E00-\uFA29][_a-zA-Z\d\u4E00-\uFA29]+$/,p=/^\d{6}$/,h=/[\u4E00-\uFA29]/g,d="hp-input-err",u="hp-input-correct",f='input:not([type]),input[type="email"],input[type="number"],input[type="password"],input[type="tel"],input[type="text"],input[type="time"]',g=function(e){if(void 0===e||null===e||""===e)return!0},m=function(e,i){return g(e)||i.test(e)},_=function(e){var i,t=0;for(i in e)t++;return t},v=t(43).errorMap,b=HJLan.getString("hjPassport","error"),w={rules:{required:{validator:function(e){var i,t=/^\s+|\s+$/g;return void 0!==e&&null!==e&&(i=e,"string"==typeof e&&(i=e.replace(t,"")),(i+"").length>0)},message:b.not_null},cellphone:{validator:function(e){return m(e,a)},message:b.mobile_illegal},equal:{validator:function(e,i){return i&&i.jquery&&(i=i.val()),e===i},message:b.match_input},notEqual:{validator:function(e,i){return i&&i.jquery&&(i=i.val()),e!==i},message:b.same_username_pwd},"username-start":{validator:function(e){return m(e,c)},message:b.start_with_error_sign},username:{validator:function(e){var i=e.replace(h,"__"),t=i.length;return m(e,l)&&t>=4&&t<=20},message:b.username_illegal},email:{validator:function(e){return m(e,s)},message:b.email_illegal},sms:{validator:function(e){return m(e,p)},message:b.sms_illegal},password:{validator:function(e){return m(e,o)},message:b.pwd_illegal_letter},"password-length":{validator:function(e){return m(e,r)},message:b.pwd_illegal_length}}},k=function(e,i){for(var t=0,n=e.length;t<n;t++)if(e[t]===i)return t;return-1},C=function(e){$(e).parent().removeClass(this.options.errorClass).removeClass(this.options.validClass)},y=function(e){if($(e).val()){this.checkElement(e)}},S=function(e,i){8==i.keyCode&&C.call({options:{errorClass:d,validClass:u}},e);var t=[16,17,18,20,35,36,37,38,39,40,45,144,225];if((9!==i.which||""!==$(e).val())&&k(t,i.keyCode)===-1){var n=this.check(e);n&&$(e).parent().removeClass(this.options.errorClass)}},E=function(e){this.checkElement(e)},I=function(e){$(e).parent().addClass(this.options.errorClass).removeClass(this.options.validClass)},T=function(e){$(e).parent().removeClass(this.options.errorClass)};e.exports=n.extend("Validator",{options:{errorClass:d,validClass:u,rules:null,events:"focusin focusout keyup change",fields:{},messages:{},focusin:C,focusout:y,keyup:S,change:E,highlight:I,unhighlight:T},render:function(){var e=this,i=this.options.fields;this.submitted={},this.forceList={},this._reset(),this.options.events&&this.element.bind(this.options.events,function(t){var n,s=t.type,a=t.target,o=a.name;if($(a).is(f)&&(!i[o]||!(n=i[o].events)||n.lastIndexOf(s)!==-1))return e._invoke(s,e,a,t)})},_reset:function(){this.successList=[],this.errorList=[],this.toShow=$([]),this.toHide=$([]),this.currentElements=$([])},_staticRules:function(e){return this.options.rules?this._normalizeRule(this.options.rules[e.name])||{}:{}},_normalizeRule:function(e){if("string"==typeof e){var i={};$.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},_dataRules:function(e){var i,t,n={},s=$(e);for(i in w.rules)t=s.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==t&&(n[i]=t);return n},_getRules:function(e){return $.extend({},this._dataRules(e),this._staticRules(e))},_formatAndAdd:function(e,i,t){var n=e.name,s=this._customMessage(n,i.method)||this._customDataMessage(e,i.method)||t,a=/\#\{(.+?)\}/g;a.test(s)&&(s=s),this.errorList.push({message:s,element:e,method:i.method}),this.submitted[n]=s},_showLabel:function(e,i){var t=$(e),n=t.siblings(".hp-err-tips:eq(0)");n.length||(n=$('<span class="hp-err-tips"></span>').insertAfter(t)),n.text(i),this.toShow=this.toShow.add(n)},_elements:function(){var e=this,i={};return $(this.element).find("input,select").not(":submit,[disabled],:hidden").filter(function(){return!(this.name in i||!_(e._getRules(this)))&&(i[this.name]=!0,!0)})},valid:function(){if(_(this.forceList))return!1;var e=this._checkForm();return this.showErrors(),e},showError:function(e,i,t,n){var s=this,a=s.element.find("[name="+e+"]");a.length&&("用户名与其它沪江帐号重名"===i&&(t=13011),i=b[v[t]]||i,this.errorList.push({message:i,element:a[0]}),n&&(this.forceList[e]=!0),this.successList=$.grep(this.successList,function(i){return i.name!==e}),this.showErrors())},showValid:function(e){var i=this,t=i.element.find("[name="+e+"]");this.forceList[e]&&delete this.forceList[e],$(t).parent().addClass(this.options.validClass)},resetForm:function(){this.submitted={},this.lastElement=null,this._reset(),this.toHide=this._errors(),this._hideErrors(this.toHide)},_checkForm:function(){this._reset();for(var e=0,i=this.currentElements=this._elements();i[e];e++)this._check(i[e]);return 0===this.errorList.length},_customMessage:function(e,i){var t=this.options.messages[e];return t&&(t.constructor===String?t:t[i])},_customDataMessage:function(e,i){return $(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||$(e).data("msg")},checkElement:function(e){if("string"==typeof e?e=this.element.find("[name="+e+"]")[0]:e.jquery&&(e=e[0]),$(e).is("[disabled]"))return!0;var i=this.check(e);return this.showErrors(),i},_check:function(e){var i,t,n,s=this._getRules(e),a=$.trim($(e).val());for(i in s){if(t={method:i,parameters:s[i]},n=w.rules[i],!n)throw"没有找到验证规则"+i;if(!n.validator.call(this,a,t.parameters))return this._formatAndAdd(e,t,n.message),!1}return _(s)&&this.successList.push(e),!0},check:function(e){var i,t,n=this.options.fields,s=e.name,a=!0;return this.lastElement=e,this._reset(),this.toHide=$(e).siblings(".hp-err-tips:eq(0)"),this.currentElements=$(e),i=this._check(e),a=i!==!1,n&&(t=n[s])&&"function"==typeof t.validated&&t.validated.call(this,{validated:i,name:s,element:e}),a},showErrors:function(){var e,i,t;for(e=0;this.errorList[e];e++)i=this.errorList[e],this._invoke("highlight",this,i.element),this._showLabel(i.element,i.message);for(e=0;this.successList[e];e++)t=this.successList[e],this._invoke("unhighlight",this,t),this._showLabel(t)}})},function(e,i,t){var n=t(42),s=function(){var e,i=document.createElement("input");return e="string"==typeof i.placeholder,i=null,e}(),a='<span class="hp-icon hp-icon-del hp-btn-del-name"></span>';e.exports=n.extend("Input",{options:{hideOnfocus:!1,showCleanBtn:!1},render:function(){var e,i=this,t=i.options;e=this.element.attr("placeholder"),s||"string"!=typeof e||(i.placeholder=$('<span class="hp-placeholder">'+e+"</span>"),i.placeholder.insertBefore(this.element)),(t.showCleanBtn||this.element.attr("data-enable-clean"))&&(i.cleanBtn=$(a).insertAfter(this.element).hide(),i.cleanBtn.mousedown(function(){i.element.val("")})),this._bindEvents()},togglePlaceholder:function(e){this.placeholder&&this.placeholder[e]()},toggleCleanBtn:function(e){this.cleanBtn&&this.cleanBtn[e]()},_bindEvents:function(){var e=this;this.element.bind("paste keyup change blur",function(){e.placeholder&&(e.element.val()?e.togglePlaceholder("hide"):e.togglePlaceholder("show")),e.element.val()?e.toggleCleanBtn("show"):e.toggleCleanBtn("hide")}),this.element.bind({keydown:function(i){8!==i.keyCode&&e.togglePlaceholder("hide")},focus:function(){e.options.hideOnfocus&&e.togglePlaceholder("hide")}})}})},function(e,i,t){var n=t(42),s=t(51),a=t(43).keyCode,o=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};e.exports=n.extend("Hint",{options:{minLength:1,source:[],close:null,open:null,select:null},render:function(){var e=this;e.element.addClass("hp-widget-hint").attr("autocomplete","off"),e.options.highlight=e.options.highlight||function(e){return e};var i=$("<ul></ul>").appendTo(e.element.parent());e.menu=new s(i,{select:function(i,t){e._trigger("select",i,{item:t})!==!1&&e.element.val(t.value)}}),e.pending=0,e.menu.hide(),e._handleEvents()},_selectCurrent:function(e){this.menu.active&&(e.preventDefault(),this.menu.select(),this.close(e))},_handleEvents:function(){var e=this;e.element.on({keydown:function(i){if(!e.element.prop("readOnly"))switch(i.keyCode){case a.ESC:e.menu.hide(),i.preventDefault();break;case a.TAB:e.menu.hide();break;default:e._renderItems(i)}}})},_getItems:function(e){var i=new RegExp(o(e),"i"),t=this.options.source;return""===e?t:$.grep(t,function(e){return i.test(e.label||e.value||e)})},_renderItems:function(e){var i=this;setTimeout(function(){var e,t=i.element.val();t?(e=i._getItems(t),i.menu.show(),i.menu.renderItems(e,t)):(e=i._getItems(t),i.menu.hide(),i.menu.renderItems(e,t))},0)},close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this._trigger("close",e))}})},function(e,i,t){var n=t(42);e.exports=n.extend("HintMenu",{options:{select:null},render:function(){this.element.addClass("hp-hint-menu"),this.currentIdx=-1,this.count=0,this._bindEvents()},_bindEvents:function(){var e=this;this.element.delegate(".hp-hint-menu-item > a","click",function(i){e.activedItem=$(i.target).parent(),e.select()})},_show:function(e){e<0||e>this.count-1||(this.activedItem=this.list.removeClass("hui-menuitem-active").eq(e).addClass("hui-menuitem-active"))},previous:function(){this._show(--this.currentIdx)},top:function(){this._show(0)},bottom:function(){this._show(this.count-1)},next:function(){this._show(++this.currentIdx)},hide:function(){this.element.hide(),this.active=!1},show:function(){this.element.show(),this.active=!0},renderItems:function(e,i){var t=this;this.currentIdx=-1,this.element.empty(),this.count=e.length,this.count>0?this.element.addClass("hp-hint-menu-layout"):this.element.removeClass("hp-hint-menu-layout"),$.each(e,function(e,i){"object"==typeof i&&(i=i.value),$('<li class="hp-hint-menu-item"><a tabindex="-1">'+i+"</a></li>").data("hp-ac-data",i).appendTo(t.element)}),this.list=this.element.children("li.hp-hint-menu-item")},select:function(){var e=this.activedItem.length&&this.activedItem.data("hp-ac-data");e&&this._trigger("select",null,{value:e})},remove:function(){this.element.remove()}})},function(e,i,t){i.Dialog=t(53),i.Hint=t(50),i.Tabs=t(54),i.Errortip=t(41),i.Validator=t(48),i.Strength=t(56),i.Input=t(49)},function(e,i,t){var n=t(42),s=t(43).keyCode;e.exports=n.extend("Dialog",{options:{width:500,closeOnEsc:!0,closeOnOverlay:!1,showTitle:!0,modal:!0,minHeight:150,minWidth:150,animation:!1,zIndex:1e6,overlayZIndex:99999,beforeClose:null,open:null,close:null,positionFixed:!0,isMobile:!1},render:function(){var e,i=this,t=i.options;this.widget=e=$("<div>").addClass("hp-dialog").css({display:"none",zIndex:t.zIndex,position:t.positionFixed?"fixed":"absolute"}).attr("tabIndex",-1).width(t.width||500).bind({keydown:function(e){t.closeOnEsc&&e.keyCode===s.ESC&&(i.close(),e.preventDefault())}}).appendTo("body"),this.element.addClass("hp-content").show().appendTo(e),t.showTitle&&this._createTitle()},widget:function(){return this.widget},_createTitle:function(){var e=this,i=e.options,t=this.widget,n='<div class="hp-dialog-header"></div>';this.header=$(n).bind("mousedown",function(){t.focus()}).prependTo(t),t=this.header,this.$closeBtn=$('<div class="hp-close hp-icon-close"></div>').addClass(i.isMobile?"hp-close-mobile":"").click(function(){e.close()}).appendTo(t)},_createOverlay:function(){var e=this,i=e.options;return getDocSize=function(){return{height:$(document).height()+"px"}},$(window).bind("resize.dialog",function(){e.overlay.css({height:0}).css(getDocSize()),e._setPosition()}),$("<div class='hp-overlay'>").css({zIndex:i.overlayZIndex}).click(function(){e.options.closeOnOverlay&&e.close()}).appendTo(document.body).css(getDocSize())},reset:function(){return this._setPosition()},_setPosition:function(){var e,i,t=this,n=t.options,s=this.widget,a=n.position,o=$(window).width(),r=$(window).height(),c="fixed"!==s.css("position")?$(window).scrollTop():0;e=a&&!isNaN(a.top)?a.top:r/2-s.outerHeight(!0)/2+c,i=a&&!isNaN(a.left)?a.left:o/2-s.outerWidth(!0)/2,s.css({left:i,top:e})},open:function(){if(!this.isOpen){var e=this,i=this.options;return i.positionFixed||$("html,body").addClass("hp-dialog-open"),this.overlay=i.modal?this._createOverlay():null,this._setPosition(),this.widget.show(),e.widget.focus(),this.isOpen=!0,this._trigger("open",null,null),this}},close:function(){if(this.isOpen&&(this.options.positionFixed||$("html,body").removeClass("hp-dialog-open"),this._trigger("beforeClose",null)!==!1))return this.isOpen=!1,this.overlay&&this.overlay.remove(),this.widget.hide(),this._trigger("close",null,null),this}})},function(e,i,t){var n=t(42),s=(t(55),t(2));e.exports=n.extend("Tabs",{options:{active:0,selectedIndexChanged:null,selectUlClass:".hp-tab-head"},render:function(){this._renderPanels(),this._bindEvents(),this.setActiveTab(this.options.active)},_renderPanels:function(){var e=this;e.panels=$(),e.tabs=this.element.find(">ul>li"),e.tabs.each(function(i){var t=$(this),n=t.attr("data-panel"),s=e.element.find("#"+n);s.length&&(e.panels=e.panels.add(s))})},setActiveTab:function(e){var i=this.tabs.eq(e||0),t=i.attr("data-panel"),n=this.element.find("#"+t);i.hasClass("hp-tab-selected")||(this.tabs.removeClass("hp-tab-selected"),this.panels.hide(),i.addClass("hp-tab-selected"),n.show(),this._trigger("selectedIndexChanged",null,{index:e}))},_bindEvents:function(){var e=this;"mobile"===s.client?e.element.find(e.options.selectUlClass).find("li").tap(function(i){e.setActiveTab($(this).index())}):e.element.find(e.options.selectUlClass).delegate("li",{click:function(i){e.setActiveTab($(this).index())}}).delegate("li a",{click:function(e){e.preventDefault()}})}})},function(e,i){var t="ontouchend"in document.createElement("div");$.fn.tap=function(e){var i=this,n=t?"touchstart":"mousedown",s=t?"touchmove":"mousemove",a=t?"touchend":"mouseup";return i.each(function(){var i={};i.target=this,$(i.target).on(n,function(e){var n="touches"in e?e.touches[0]:t?window.event.touches[0]:window.event;i.startX=n.clientX,i.startY=n.clientY,i.endX=n.clientX,i.endY=n.clientY,i.startTime=+new Date}),$(i.target).on(s,function(e){var n="touches"in e?e.touches[0]:t?window.event.touches[0]:window.event;i.endX=n.clientX,i.endY=n.clientY}),$(i.target).on(a,function(t){if(+new Date-i.startTime<300&&Math.abs(i.endX-i.startX)+Math.abs(i.endY-i.startY)<20){var t=t||window.event;t.preventDefault(),e.call(i.target)}i.startTime=void 0,i.startX=void 0,i.startY=void 0,i.endX=void 0,i.endY=void 0})}),i},e.exports={tap:$.fn.tap,enableTouch:t}},function(e,i,t){var n=t(42),s={none:0,weak:1,medium:2,strong:3},a="hp-input",o="zh-CN"!==window.HJLan.currentLan?" hp-input-no-flag":"";WEAK_CSS=a+" hp-input-bad"+o,MEDIUM_CSS=a+" hp-input-ok"+o,STRONG_CSS=a+" hp-input-good"+o,WEAK_PATTERN=/^(abc123|a1b2c3|aaa111|123qwe|p@ssword|passw0rd|trustno1)$/,DIGITAL_PATTERN=/\d/,LETTER_PATTERN=/[a-zA-Z]/,SPECIAL_PATTERN=/[^0-9a-zA-Z]/,e.exports=n.extend("Strength",{render:function(){var e=this;this.strength=e.element.parent(".hp-input"),this.element.bind("paste keyup change input",function(){var i=$.trim(e.element.val());e.status(i)})},checkStrength:function(e){if(!e)return 0;if(WEAK_PATTERN.test(e)||e.length<8)return 1;var i=0;return DIGITAL_PATTERN.test(e)&&i++,LETTER_PATTERN.test(e)&&i++,SPECIAL_PATTERN.test(e)&&i++,i},status:function(e){var i=this.strength[0],t=this.checkStrength(e);switch(t){case s.weak:i.className=WEAK_CSS;break;case s.medium:i.className=MEDIUM_CSS;break;case s.strong:i.className=STRONG_CSS;break;case s.none:default:i.className=a}}})},function(e,i,t){function n(){$.get(c,{w:100,h:30,t:+new Date},function(e){if(s=e.img,p.token=e.token,o=s+"&t="+ +new Date,"inline"===r.mode){var i=$(".hp-captcha-pic img");i.length&&i.attr("src",o)}},"jsonp")}var s,a,o="",r=t(16),c="//captcha.yeshj.com/api.php",l=t(58),p={render:function(){return"<img src='"+o+"' onerror=this.src='"+l+"'>"},update:function(){o=s+"&t="+ +new Date},token:a,checkImageUrl:function(){return void 0!=s},checkCaptchaUrl:function(){}};n(),e.exports=p},function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAqCAYAAAAzikzDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozNGE0YjIxYi03ZGRkLTRmMGMtODBjZC1iNjVmODQ4NDM0MWQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzE0QTU2RjQyQUU5MTFFNjg4RDdDRjIyN0NFMjRGMDEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzE0QTU2RjMyQUU5MTFFNjg4RDdDRjIyN0NFMjRGMDEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMDI2ZDdlZi0zNmI1LTRjMzUtOTJlZi01OTFiNGQxNTM4NjMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MjM3YWRjNi0yYWU4LTExNzktYjRi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"},function(e,i,t){var n=(t(43),t(2)),s=t(3),a=(t(60),t(61));e.exports={_initPartial:function(){this._disable3rdParty()},drawIcon:function(){for(var e=n.disable3rdParty||[],i=0,t=e.length,s=this.element.find(".hp-third-login");i<t;i++){var a=e[i];a&&this.element.find(".hp-"+a).hide()}1===t&&this.element.find(".hp-register-switch").addClass("hp-"+e[0]+"-style"),n.disableEmail?(this.element.find(".hp-register-switch").addClass("hp-hide"),2===t&&s.addClass("hp-third-with-one"),1===t&&s.addClass("hp-third-with-two")):(3===t&&s.addClass("hp-third-with-one"),2===t&&s.addClass("hp-third-with-two"),1===t&&s.addClass("hp-third-with-three"),0===t&&s.addClass("hp-third-with-four"))},_disable3rdParty:function(){var e=n.disable3rdParty||[],i=n.appUninstalled||[],t=(e.length,i.length,this.element.find(".hp-third-login"));if("all"===n.disable3rdParty)return t.hide();s.isMobile&&!s.isWeixin&&this.element.find(".hp-wechat").hide(),this.element.has(".hp-register-switch").length?a._judgeCountry(function(e){e?t.hide():s.isMobile&&!s.isWeixin?t.addClass("hp-third-with-three"):t.addClass("hp-third-with-four")}):s.isMobile&&!s.isWeixin?t.addClass("hp-third-with-two"):t.addClass("hp-third-with-three")},_bind3rdClick:function(e){var i=this,t=this.element;e=e||{},submitBtn=t.find(".hp-btn"),paramsMap={wechat:{track:"login_weixin",url:"weixin",type:"wechat"},weibo:{track:"login_weibo",url:"sina",type:"weibo"},qq:{track:"login_qq",url:"qq",type:"qq"}},bind3rdClickFunc=function(e,t){i.trigger("record3rdClick",e),i.trigger("hanlde3rdClick",t)},$.each(["wechat","weibo","qq"],function(i,n){var s=paramsMap[n],a={url:e[s.url],type:s.type};t.find(".hp-"+n).click(function(e){e.preventDefault(),bind3rdClickFunc(s.track,a)})})},_update3rdLoginUrl:function(e){var i=this.element;i.find(".hp-wechat").attr("href",e.weixin),i.find(".hp-weibo").attr("href",e.sina),i.find(".hp-qq").attr("href",e.qq)},offBind3rdClick:function(){var e=this.element;e.find(".hp-wechat, .hp-weibo, .hp-qq").off("click")}}},function(e,i,t){var n=t(61);e.exports={_SkipBindMobile:function(e,i){n._judgeCountry(function(t,n){var s=e||n,a=!(t&&!s);i(a,t,s)})},_getAvatar:function(e,i){HJSDK.invoke("account_chooseUploadAvatar",{club_auth:e},function(e){i(e.avatar_url)})}}},function(e,i,t){function n(e,i,t){return"CN"===e}var s=(t(2),t(62));"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e,i){var t=[];if("function"==typeof e)for(var n=0,s=this.length;n<s;n++)e.call(i,this[n],n,this)&&t.push(this[n]);return t}),e.exports={_getCountry:function(e){s.getCountry({}).success(function(i){var t=i.Data;e(t.ClientCountry,t.IsHujia)}).failure(function(i,t){e(["CN"])})},_judgeCountry:function(e){this._getCountry(function(i,t){var s=i.filter(n).length>0;e(s,t)})}}},function(e,i,t){var n,s,a,o,r=t(63),c=t(43),l=t(2),p=t(16),h=t(3),d=c.genAPIUrl,u=c.genLoginOutUrl;n=function(){},s=function(){},a=function(e,i,t){return r.get(d(e),i)},e.exports={login:function(e){return a("Login",e)},msgLogin:function(e){return a("MobileMsgLogin",e)},loginSetPwd:function(e){return a("FirstLoginSetPwd",e)},getUserInfo:function(){return r.get(d("GetUserInfo"))},getOauthLoginUrl:function(e){return r.get(d("getoauthloginurl"),e)},getOauthLoginUrlNew:function(e){return r.get(d("getoauthloginurlnew"),e)},isShowLoginCaptcha:function(e){return r.get(d("LoginCodeCaptcha"),e)},checkUserName:function(e,i,t){return{success:function(e){var i={Code:0,Data:{IsSafe:!1},Message:null,Success:!1};return e(i),this},failure:function(e){return this},complete:function(e){return this}}},checkNotExist:function(e,i){return{success:function(e){var i={Code:0,Message:"Ok",Data:null,Success:!1};return e(i),this},failure:function(e){return this},complete:function(e){return this}}},changeUserName:function(e){return a("QuickChangeUserName",e)},bindMobile:function(e){return a("QuickBindMobile",e)},quitBindMobile:function(){return a("QuitBindMobile")},sendMessage:function(e){return r.get(d("SendMsg"),e)},register:function(e){return a("Register",e)},isShowRegisterCaptcha:function(){return r.get(d("isShowCode"))},getHost:function(){return a("GetHost")},loginOut:function(){return r.get(u())},syncLoginCurrentDomain:function(e){var i=c.getAPISLD()+"."+c.getHost()+"/quick/synclogin.aspx";return r.get(i,e)},syncLogin:function(e,i,t){e.password?e.password:"",e.status;"undefined"!=typeof e.password&&delete e.password,"undefined"!=typeof e.status&&delete e.status;delete e.isRawPwd;var n=c.SSODomains,s=function(t){var n,s,a=t.length,o=e.ticket,r=0,l=function(e){r++,r==a&&(s&&clearTimeout(s),i(!0))};s=setTimeout(function(){i(!1)},1e4);for(var p=0;p<a;p++)n=c.getAPISLD()+"."+t[p]+"/quick/synclogin.aspx",$.get(n,{token:o,reg3rd:e.reg3rd,remeberdays:14},l,"jsonp")};this.getHost().success(function(e){var i=e.Data.host||n;s(i)}).failure(function(e,i){s(n)})},findPwdByEmail:function(e){return r.get(d("FindSendEmail"),e)},findPwdByMobile:function(e){return r.get(d("FindByMobile"),e)},updatePwd:function(e){return r.get(d("UpdateUserPassword"),e)},oauthRegister:function(e){return a("OauthRegister",e)},oauthLogin:function(e){return a("OauthBind",e)},setTag:function(e){return r.get(d("UpdateUserTag"),{categoryid:e})},getPushData:function(){return r.get(d("PushDataLoad"),{format:"json",platformType:h.device,click_url:l.redirectURL})},recordThirdInfos:function(e){return a("AppOauthUserToCache",e)},thirdLoginOnApp:function(e,i){o.invoke("account_getSocialInfo",{platform:e},function(e){i.call(null,e)})},trialFromRegister:function(e){return a("ConvertByRegister",e,{is_trial:!0})},trialFromThird:function(e){return a("ConvertByOauth",e,{is_trial:!0})},trialLoginOnApp:function(e){o.invoke("ui_loading",{action:"show"}),o.invoke("account_trialLogin",function(i){o.invoke("ui_loading",{action:"hide"}),e.call(null,i)})},getAvatar:function(e){var i=e.toString(),t=e.length,n="0000",s="//i2.hjfile.cn/f48/";return t<4&&(i=n.substring(0,4-t)+i,t=4),s+i.substr(t-4,2)+"/"+i.substr(t-2,2)+"/"+i+".jpg"},addRegInfo:function(){var e={};if(window.ht&&ht.getIDs){var i=ht.getIDs();e={VisitorID:i.uid,SessionID:i.sid,SiteSessionID:i.ssid,PageUrl:"popup"===p.mode?encodeURIComponent(location.href):l.referrer}}return l.entry&&(e.RegisterKey=l.entry),r.get(d("AddRegVisitorInfo"),e)},uploadImage:function(e){return r.get(c.getUploadDomain+"/account/api/changeavatar?_t",e)},getCountry:function(e){return r.get(d("checkip"))}}},function(e,i,t){function n(e,i){var t=[],n=[],s=[],a=Object.prototype,o=(a.toString,function(e){var i=a.hasOwnProperty;return i.call(e,"Code")?e.Code:i.call(e,"code")?e.code:void 0}),r=function(e){$.each(t,function(t,n){return n.call(i,e)})},c=function(e){var t,s;o(e)?(t=e.Message,s=o(e)):(t=e.statusText,s=e.status),$.each(n,function(e,n){return n.call(i,t,s)})},l=function(e){$.each(s,function(t,n){return n.call(i,e)})};return e.success=function(e){0===o(e)?r(e):c(e)},e.error=function(e){c(e)},e.complete=function(e){l(e)},{success:function(e){return t.push(e),this},failure:function(e){return n.push(e),this},complete:function(e){return s.push(e),this}}}function s(e){return function(i,t,s){s=s||{};var a,o,r={success:$.noop,error:$.noop},c=n(r,s);o={type:e,url:i,data:t,dataType:"jsonp",success:r.success,error:r.error,complete:r.complete};var a=$.ajax(o);return s.xhr=a,c}}e.exports={post:s("post"),get:s("get")}},function(e,i,t){var n=t(57),s="hp-disabled";e.exports={_initPartial:function(){var e=this;e.view;e.eleDtmGet=e.element.find(".hp-dtm-get"),e.element.on("click",".hp-dtm-get",function(){var i=$(this);if(!i.hasClass(s)){var t=e.currentTab.find("input.hp-captcha");if(t.length&&t.is(":visible")){var a=e.currentTab.hpvalidator("checkElement",t);if(!a)return}i.addClass(s),e._initDtmInterval($(this)),n.update(),e.trigger("getMessageCode",{mobile:e.currentTab.find(".hp-mobileno").val(),imgcode:e.currentTab.find(".hp-captcha").val()})}})},_toggleDtm:function(e){e&&this.interval||this.element.find(".hp-dtm-get")[e?"removeClass":"addClass"](s)},_initDtmInterval:function(e){var i=this,t=60;i.interval&&window.clearInterval(i.interval),i.interval=setInterval(function(){e.text(HJLan.getString("hjPassport","button").resend+"("+t.toString()+"s)"),t<=0&&(e.text(HJLan.getString("hjPassport","button").get_dynamic_code).removeClass(s),i._renderCaptcha(),clearInterval(i.interval),i.interval=null),t--},1e3)},_updateTimer:function(){this.interval&&(window.clearInterval(this.interval),this.interval=null,this.element.find(".hp-dtm-get").text(HJLan.getString("hjPassport","button").get_dynamic_code).removeClass(s))}}},function(e,i,t){var n=t(57),s="hp-hide";e.exports={_initPartial:function(){var e=this;this.element.on("click",".hp-captcha-pic",function(){n.checkCaptchaUrl(),e._updateCaptcha()})},_renderCaptcha:function(){this.element.find(".hp-captcha-pic").html(n.render())},_updateCaptcha:function(){n.update(),this._renderCaptcha()},_showCaptcha:function(e){var i=this.element.find(".hp-input-captcha"),t=i.find(".hp-captcha");e?(i.removeClass(s),t.removeAttr("disabled")):(i.addClass(s),t.attr("disabled","disabled"))}}},function(e,i){e.exports='<div class="hp-view hp-login-wrap"><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.login}}</span> <a href=javascript:; class="hp-right hp-register">{{button.register}}&nbsp;</a></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-tabs><ul class="hp-tab-head hp-cf"><li data-panel=hp-login-normal><span>{{button.normal_login}}</span></li><li data-panel=hp-login-quick><span>{{button.mobile_quick_login}}</span></li></ul><div class=hp-tab-body><div id=hp-login-normal><div class="hp-input hp-input-username"><input class=hp-username name=username autocomplete=off autocapitalize=off autocorrect=off data-enable-clean=true data-rule-required=true placeholder="{{input.mobile}}/{{input.username}}/{{input.email}}"> <i class="hp-input-icon hp-icon-input-username"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-userinfo hp-cf"><img src=//i2.hjfile.cn/f96/92/85/34819285.jpg class=hp-user-avatar alt="头像"> <span class=hp-user-name>用户名</span><div class=hp-user-del><span class="hp-icon hp-icon-del"></span></div></div><div class=hp-input><input type=password class=hp-password name=password data-rule-required=true maxlength=20 placeholder="{{input.password}}"> <i class="hp-input-icon hp-icon-input-password"></i> <a class=hp-forgot href=javascript:void(0); data-bi-point=forgot_password>{{button.forget_password}}</a> <span class=hp-err-tips>密码错误提示</span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><button class="hp-btn hp-btn-green" type=submit data-bi-point=login_submit>{{button.login}}</button><div class="hp-third-login hp-third-gray hp-third-bottom"><span class=hp-hide>{{element.third_login}}</span><div class="hp-list hp-cf"><a class=hp-wechat target=_blank><p><span class="hp-icon hp-icon-weixin"></span></p><span class=hp-name>{{button.wechat}}</span></a> <a class=hp-qq target=_blank><p><span class="hp-icon hp-icon-qq"></span></p><span class=hp-name>{{button.qq}}</span></a> <a class=hp-weibo target=_blank><p><span class="hp-icon hp-icon-weibo"></span></p><span class=hp-name>{{button.weibo}}</span></a></div></div></div><div id=hp-login-quick><div class=hp-input><input class=hp-mobileno name=mobile data-enable-clean=true data-rule-cellphone=true data-rule-required=true type=tel maxlength=11 placeholder="{{input.enter_mobile}}"> <i class="hp-input-icon hp-icon-input-mobile"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><div class="hp-input hp-input-half hp-input-dtm"><input class=hp-dtm maxlength=6 name=sms data-rule-required=true data-rule-sms=true placeholder="{{input.dynamic_code}}"> <i class="hp-input-icon hp-icon-input-sms"></i> <span class="hp-btn-half hp-dtm-get hp-disabled">{{button.get_dynamic_code}}</span> <span class=hp-err-tips>{{error.sms_wrong}}</span></div><button class="hp-btn hp-btn-green" type=submit data-bi-point=login_mobile>{{button.login}}</button></div></div></div></div></div></div>';
},function(e,i,t){t(68);var n=t(19),s=(t(52).Tabs,t(57),t(70)),a="hp-disabled",o=HJLan.getString("hjPassport","button").completing,r=HJLan.getString("hjPassport","button").complete,c=t(2),l=t(71),p={password:{required:HJLan.getString("hjPassport","error").pwd_empty}};$.browser&&$.browser.msie&&parseInt($.browser.version,10)<10;n.register("login-setpwd",[s,l],{template:t(72),init:function(){var e=this,i=e.element,t=i.find("#hp-reg-mobile");e.currentMode="mobile",e.currentTab=t,i.find("input").hpinput(),i.find(".hp-password").hpstrength();t.hpvalidator({messages:p}),i.on("keydown","input",function(i){13===i.keyCode&&e._onLoginBtnClick()}).on("click",".hp-btn",function(){$(this).hasClass(a)||e._onLoginBtnClick()}),"pc"===c.client?i.find(".hp-login-nav").hide():i.on("click",".hp-login-nav",function(){e.trigger("login")}),c.giftSwitch&&(i.find(".hj-app-ab-section").removeClass("hp-hide"),i.find(".hj-not-app-ab-section").addClass("hp-hide")),"pc"!==c.client&&i.find(".hp-inner-dialog.hp-info-bottom").css("position","fixed")},showErrorOnField:function(e,i,t,n){this.currentTab.hpvalidator("showError",e,i,t,n)},_onLoginBtnClick:function(){var e=this.currentTab;e.hpvalidator("valid")&&(this._switchLoginButtonState(!0),this.trigger("sendSetPwd",{password:e.find(".hp-password").val()}))},_switchLoginButtonState:function(e){var i=this.currentTab.find(".hp-btn");e?i.addClass(a).text(o):i.removeClass(a).text(r)},update:function(e){var i=this,t=(i.element,$("#hp-dialog")),n=e.initLanData;t.find(".hp-content").html("<p>"+n.element.last_determine_quit+"</p>"),t.find(".hp-btn-ok").text(n.button.quit_now),t.find(".hp-btn-close").text(n.button.complete_now)},focus:function(e){this.currentTab.find("input:visible").first().focus()}})},function(e,i){},,function(e,i,t){t(52).Dialog;e.exports={_initPartial:function(){var e,i=this,t=i.element;t.find("#hp-dialog").hpdialog({width:"300px",zIndex:1000001,overlayZIndex:1e6,showTitle:!1}),t.on("click",".hp-back",function(){e="back",i.trigger("clickBackBtn")}).on("click",".hp-skip",function(){e="skip",i.trigger("clickSkipBtn")}),$("#hp-dialog .hp-btn-ok").click(function(){i._showDialog(!1),i.trigger("clickDialogBtn","drop"),"skip"===e?i.trigger("loginNoBind"):i.trigger("previous")}),$("#hp-dialog .hp-btn-close").click(function(){i.trigger("clickDialogBtn","continue"),i._showDialog(!1)})},_showDialog:function(e){e?$("#hp-dialog").hpdialog("open"):$("#hp-dialog").hpdialog("close")}}},function(e,i){var t="hp-disabled";e.exports={_initPartial:function(){var e,i=this;e=i.element,e.find("input").hpinput(),e.on("keydown","input",function(e){13===e.keyCode&&i.handleSubmit()}),this.submitBtn=e.find(".hp-submit-btn").click(function(){i.handleSubmit()})},getFields:function(){return{}},handleSubmit:function(){var e=this,i=e.element;!this.submitBtn.hasClass(t)&&i.hpvalidator("valid")&&e.trigger("submit",e.getFields())},disableSubmit:function(e){this.submitBtn[e?"addClass":"removeClass"](t)},update:function(){this.element.find("input:visible").first().focus(),this._updateForm()},reset:function(){this.element.find("input").val("")},_updateForm:function(){},clearErrorMsg:function(e){var i=this.element,t=$.extend({focusin:!0,focusout:!1,blur:!1,keyup:!1,keydown:!1,input:!1,paste:!1},e),n=i.find("input");n.val(""),$.each(t,function(e,i){i&&n.trigger(e)})}}},function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.login}}</span></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-tabs><div class=hp-tab-body><div id=hp-reg-mobile class=hp-reg-sms><div class=hp-login-setpwd><div class="hj-app-ab-section hp-hide"><div class=hp-show-title>{{element.setpwd_first_login}}</div><div class="hp-icon-setpwd-ab hp-show-img"></div><div class=hp-show-subtitle>{{element.first_login_get_present}}</div></div><div class=hj-not-app-ab-section><div class="hp-icon-setpwd hp-show-img"></div><div class=hp-show-subtitle>{{element.setpwd_first_login}}</div></div></div><div class="hp-input hp-input-password"><input class=hp-password type=password name=password maxlength=20 data-rule-password-length=true data-rule-password=true data-rule-required=true maxlength=35 placeholder="{{input.set_password}} "> <i class="hp-input-icon hp-icon-input-password"></i><p class="hp-pass-bars hp-cf"><span class="hp-pass-bar hp-pass-bar1"></span> <span class="hp-pass-bar hp-pass-bar2"></span> <span class="hp-pass-bar hp-pass-bar3"></span></p><span class=hp-err-tips></span> <span class=hp-flag></span></div><button class="hp-btn hp-btn-green" type=submit>{{button.login}}</button><div class=hp-safe-txt>{{element.safe_txt}}</div><div class=hp-safe-subtxt>{{element.safe_subtxt}}</div></div></div></div></div></div><div id=hp-dialog class=hp-inner-dialog><div class="hp-title hp-hide"><div class=hp-dialog-img></div><div class=hp-dialog-subtitle></div></div><div class=hp-content></div><div class="hp-button-set hp-cf"><a href=javascript:void(0); class="hp-btn hp-btn-ok"></a> <a href=javascript:void(0); class="hp-btn hp-btn-close"></a></div></div></div>'},function(e,i,t){t(74);var n=t(19);n.register("login-transfer",{template:t(77)})},function(e,i){},,,function(e,i){e.exports="<div class=hp-view><div class=hp-section><div class=hp-login-transfer><span class=hp-login-transfer-success></span><p class=hp-info><span class=hp-green>{{element.login_success_redirect_part1}}</span>{{element.login_success_redirect_part2}}</p></div></div></div>"},function(e,i,t){t(79);var n=t(19),s=(t(52).Tabs,t(57),"hp-disabled"),a="hp-hide",o=HJLan.getString("hjPassport","button").registering,r=HJLan.getString("hjPassport","button").register,c=(t(81),t(2)),l={password:{required:HJLan.getString("hjPassport","error").pwd_empty},mobile:{required:HJLan.getString("hjPassport","error").mobile_empty},captcha:{required:HJLan.getString("hjPassport","error").captcha_empty}},p=t(59),h=t(65);t(3),$.browser&&$.browser.msie&&parseInt($.browser.version,10)<10;n.register("register-mobile",[p,h],{template:t(83),templateInitData:{agreementLink:t(43).agreementLink},init:function(){var e=this,i=e.element,t=i.find("#hp-reg-mobile");e.currentMode="mobile",e.currentTab=t,e.dtm=i.find(".hp-dtm-get"),i.find(".hp-agreement a").attr("href"),i.find("input").hpinput(),i.find(".hp-password").hpstrength();var n={validated:function(i){var t=this,n=$(i.element).val();i.validated&&e.trigger("checkExist","mobile",n,function(i,n,s,a){i?(e._showCaptcha(!a),t.showValid("mobile",!0)):t.showError("mobile",n,s,!0)})}};t.hpvalidator({messages:l,fields:{mobile:n}}),i.on("keydown","input",function(i){13===i.keyCode&&e._onRegisterBtnClick()}).on("click",".hp-btn",function(){$(this).hasClass(s)||e._onRegisterBtnClick()}).on("click",".hp-back",function(){e.trigger("previous")}).on("click",".hp-register-switch",function(){e.trigger("switchToEmail")}).on("click",".hp-select-other",function(){e._toggleThird()}),"pc"===c.client?(i.find(".hp-login-nav").hide(),i.find(".hp-agreement a").attr("target","_blank")):i.on("click",".hp-login-nav",function(){e.trigger("login")})},_toggleThird:function(){var e="hp-icon-arrow-up hp-icon-arrow-down";$thirdList=this.element.find(".hp-list"),$selectLogo=this.element.find(".hp-select-title i"),$selectLogo.toggleClass(e),$thirdList.toggleClass(a)},_toggleDtm:function(e){e&&this.interval||this.dtm[e?"removeClass":"addClass"](s)},showErrorOnField:function(e,i,t,n){this.currentTab.hpvalidator("showError",e,i,t,n)},_onRegisterBtnClick:function(){var e=this.currentTab;e.hpvalidator("valid")&&(this._switchRegisterButtonState(!0),this.trigger("getRegisterCode",{mobile:e.find(".hp-mobileno").val(),password:e.find(".hp-password").val(),imgCode:e.find(".hp-captcha").val(),sendtype:"register"}))},_switchRegisterButtonState:function(e){var i=this.currentTab.find(".hp-btn");e?i.addClass(s).text(o):i.removeClass(s).text(r)},update:function(e,i){var t=this;t.focus(),"register"===e&&t.element.find(".hp-collapse-pc").show(),i.mobile&&t.element.find(".hp-mobileno").val(i.mobile),i.diableEmail&&t.element.find(".hp-register-switch").addClass("hp-hide")},focus:function(){this.currentTab.find("input:visible").first().focus()},updateCaptcha:function(e,i){this._showCaptcha(e),this._updateCaptcha()}})},function(e,i){},,function(e,i,t){var n,n=t(82),s=n.POINTS;e.exports={getBIHash:function(e){return{name:e.name,groupid:e.groupid,categoryid:e.category_id}},register:function(e){var i=this;$(e).delegate("[data-bi-point]","click",function(e){var t=$(this),n=t.attr("data-bi-point");s[n]&&i.fire(n)})},fire:function(e,i){n.fire(e,i)}}},function(e,i){var t={login_qq:[2,1402],login_submit:[2,1403],login_failure:[2,1404],login_close:[2,1405],login_weibo:[2,1407],login_weixin:[2,1408],login_show:[2,1409],login_success_view:[2,1410],login_failure_view:[2,1411],login_close_witheixst:[2,1412],login_delexsit_witheixst:[2,1413],login_show_witheixst:[2,1414],login_retry_view:[2,1415],login_normal_click:[2,"normallogin_click"],login_mobile_click:[2,"phonelogin_click"],login_mobile_sms:[2,"phonelogin_getcode"],login_mobile:[2,"phonelogin_login"],sync_login_success:[2,1474],sync_login_failure:[2,1475],register_email_to_mobile:[2,1441],register_email_close:[2,1442],register_email_show:[2,1443],register_email_submit:[2,1444],register_mobile_to_emal:[2,1424],register_mobile_close:[2,1425],register_mobile_sms:[2,1426],register_mobile_show:[2,1427],register_mobile_submit:[2,1428],register_success:[2,1400],register_success_close:[2,1446],register_success_fillinfo:[2,1447],register_success_show:[2,1448],register_success_choose:[2,1454],register_success_continue:[2,1455],register_success_goto_email:[2,1456],register_success_active_email:[2,1464],register_success_trial:[2,1465],register_success_next:[2,"Bi_regsuccess_click"],register_sms_show:[2,"Bi_dynamiccode_show"],register_sms_nextstep:[2,"Bi_dynamiccode_click"],register_mobile_duration:[2,"Bi_regphone_duration"],register_sms_duration:[2,"Bi_dynamiccode_duration"],register_success_duration:[2,"Bi_regsuccess_duration"],register_sms_dialog_continue:[2,"bi_dynamiccode_continue"],register_sms_dialog_drop:[2,"bi_dynamiccode_giveup"],interest_step2_close:[2,1449],interest_step2_show:[2,1450],interest_step1_choose:[2,1451],interest_step1_close:[2,1452],interest_step1_show:[2,1453],interest_step1_skip:[2,1457],interest_choose:[2,1431],interest_switch:[2,1432],interest_skep:[2,1433],forgot_password:[2,1406],resetpwd_qq:[2,1401],resetpwd_weibo:[2,1429],resetpwd_weixin:[2,1430],resetpwd_sms_get:[2,1416],resetpwd_sms_nextstep:[2,1417],resetpwd_sms_show:[2,1418],resetpwd_sms_submit:[2,1419],resetpwd_msg:[2,1420],resetpwd_complain:[2,1445],resetpwd_next:[2,1421],resetpwd_show:[2,1422],resetpwd_success:[2,1423],resetpwd_email_success:[2,1434],resetpwd_email_err_show:[2,1435],resetpwd_email_to_mailbox:[2,1436],resetpwd_email_next:[2,1437],resetpwd_email_show:[2,1438],resetpwd_email_retype:[2,1439],resetpwd_email_submit:[2,1440],setpwd_show:[2,"phonelogin_setpassword"],setpwd_back_click:[2,"phonelogin_setpassword_back"],setpwd_dialog_continue:[2,"phonelogin_window_continue"],setpwd_dialog_drop:[2,"phonelogin_window_giveup"],setpwd_login_click:[2,"phonelogin_setpassword_login"],old_login_telbind_show:[2,"oldlogin_telbind_show"],old_login_telbind_vertify:[2,"oldlogin_telbind_vertify"],old_login_telbind_getcode:[2,"oldlogin_telbind_getcode"],old_login_telbind_pass:[2,"oldlogin_telbind_skip"],old_login_telbind_picvertify:[2,"oldlogin_telbind_picvertify"],old_login_telbind_dialog_show:[2,"oldlogin_telbind_windowshow"],old_login_telbind_dialog_continue:[2,"oldlogin_telbind_windowcontinue"],old_login_telbind_dialog_drop:[2,"oldlogin_telbind_giveup"],"3rd_login_back":[2,1459],"3rd_login_register_new":[2,1460],"3rd_login_bind_click":[2,1461],"3rd_login_bind_back":[2,1467],"3rd_login_telbind_show":[2,"login_telbind_show"],"3rd_login_telbind_vertify":[2,"login_telbind_vertify"],"3rd_login_telbind_getcode":[2,"login_telbind_getcode"],"3rd_login_telbind_pass":[2,"login_telbind_pass"],"3rd_login_telbind_picvertify":[2,"login_telbind_picvertify"],"3rd_login_telbind_dialog_show":[2,"login_telbind_windowshow"],"3rd_login_telbind_dialog_continue":[2,"login_telbind_windowcontinue"],"3rd_login_telbind_dialog_drop":[2,"login_telbind_windowgiveup"],bind_phone_fail:[2,"phonebind_failure"],bind_fail_rebind:[2,"phonebind_relogin"],bind_update_show:[2,"changephone_show"],bind_update_click_ok:[2,"changephone_clickchange"],bind_update_click_cancel:[2,"changephone_cancel"],bind_login_show:[2,"login_oldaccount_show"],bind_login_click_login:[2,"login_oldaccount_login"],bind_login_click_weibo:[2,"login_oldaccount_weibo"],bind_login_click_wechat:[2,"login_oldaccount_wechat"],bind_login_click_qq:[2,"login_oldaccount_qq"],bind_sms_show:[2,"bind_oldaccount_show"],bind_sms_getcode:[2,"bind_oldaccount_getcode"],bind_sms_click_bind:[2,"bind_oldaccount_bind"],bi_upload_avatar:[2,"bi_upload_avatar"],bind_moile_show_transfer:[2,"link_mobile_show_transfer"],bind_moile_show:[2,"link_mobile_show"],bind_moile_close:[2,"link_mobile_close"],bind_moile_mobile_input:[2,"link_mobile_input"],bind_moile_sms:[2,"link_mobile_getcode"],bind_moile_sms_input:[2,"link_mobile_inputcode"],bind_moile_confirm:[2,"link_mobile_confirm"]};e.exports={POINTS:t,sendEvent:function(e,i,t){if("function"==typeof window.SendEvent)return window.SendEvent(e,i,t)},fire:function(e,i){if(!t[e])throw"Type "+e+" doesn't exsit!";var n=t[e];this.sendEvent.call(this,n[0],n[1],i)}}},function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.register_hujiang}}</span> <a href=javascript:; class="hp-right hp-login-nav">{{button.login}}&nbsp;</a></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-tabs><div class="hp-register-mobile-info hp-hide"><div class="hp-show-img hp-icon-register-mobile"></div><div class=hp-show-subtitle>{{element.mobile_register_get_present}}</div></div><div class=hp-tab-body><div id=hp-reg-mobile class=hp-reg-app><div class=hp-input><input class=hp-mobileno name=mobile data-enable-clean=true data-rule-cellphone=true data-rule-required=true type=tel maxlength=11 placeholder="{{input.enter_mobile}}"> <i class="hp-input-icon hp-icon-input-mobile"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><div class="hp-input hp-input-password"><input class=hp-password type=password name=password maxlength=20 data-rule-password-length=true data-rule-password=true data-rule-required=true maxlength=35 placeholder="{{input.set_password}} "> <i class="hp-input-icon hp-icon-input-password"></i><p class="hp-pass-bars hp-cf"><span class="hp-pass-bar hp-pass-bar1"></span> <span class="hp-pass-bar hp-pass-bar2"></span> <span class="hp-pass-bar hp-pass-bar3"></span></p><span class=hp-err-tips></span> <span class=hp-flag></span></div><button class="hp-btn hp-btn-green" type=submit>{{button.register}}</button></div></div></div><div class="hp-info-tip hp-agreement">{{element.agreement}}<a href={{agreementLink}}>{{element.terms_conditions}}</a></div></div><div class="hp-collapse-top hp-reg-other"><div class=hp-third-login><div class=hp-select-title><span class=hp-select-other>{{button.sign_in_other}}</span> <i class=hp-icon-arrow-down></i></div><div class="hp-list hp-cf hp-hide"><a class=hp-wechat target=_blank><p><span class="hp-icon hp-icon-weixin"></span></p><span class=hp-name>{{button.wechat}}</span></a> <a class=hp-qq target=_blank><p><span class="hp-icon hp-icon-qq"></span></p><span class=hp-name>{{button.qq}}</span></a> <a class=hp-weibo target=_blank><p><span class="hp-icon hp-icon-weibo"></span></p><span class=hp-name>{{button.weibo}}</span></a> <a class=hp-register-switch target=_blank data-bi-point=register_mobile_to_emal><p><span class=hp-icon-email-blue></span></p><span class=hp-name>{{button.email}}</span></a></div></div></div></div></div>'},function(e,i,t){t(85);var n=t(19),s=(t(52).Tabs,t(57),"hp-disabled"),a=HJLan.getString("hjPassport","button").registering,o=HJLan.getString("hjPassport","button").register,r=(t(81),t(2)),c={password:{required:HJLan.getString("hjPassport","error").pwd_empty},email:{required:HJLan.getString("hjPassport","error").email_empty},captcha:{required:HJLan.getString("hjPassport","error").captcha_empty}},l=t(65);t(3),$.browser&&$.browser.msie&&parseInt($.browser.version,10)<10;n.register("register-email",[l],{template:t(87),templateInitData:{agreementLink:t(43).agreementLink},init:function(){var e=this,i=e.element,t=i.find("#hp-reg-email");e.currentMode="email",e.currentTab=t,i.find(".hp-agreement a").attr("href"),i.find("input").hpinput(),i.find(".hp-password").hpstrength();var n=function(i,t){if(t.validated!==!1){var n=this;e.trigger("checkExist",i,$(t.element).val(),function(e,t,s){e?n.showValid(i,!0):n.showError(i,t,s,!0)})}},a={events:"focusin,focusout",validated:function(e){n.call(this,"email",e)}};t.hpvalidator({messages:c,fields:{email:a}}),i.on("keydown","input",function(i){13===i.keyCode&&e._onRegisterBtnClick()}).on("click",".hp-captcha-pic",function(){e._updateCaptcha()}).on("click",".hp-btn",function(){$(this).hasClass(s)||e._onRegisterBtnClick()}).on("click",".hp-back",function(){e.trigger("previous")}).on("click",".hp-register-switch",function(){e.trigger("switchToMobile")}),"pc"===r.client?(i.find(".hp-login-nav").hide(),i.find(".hp-agreement a").attr("target","_blank"),i.find(".hp-back").hide()):i.on("click",".hp-login-nav",function(){e.trigger("login")})},showErrorOnField:function(e,i,t,n){this.currentTab.hpvalidator("showError",e,i,t,n)},_onRegisterBtnClick:function(){var e=this.currentTab;e.hpvalidator("valid")&&(this._switchRegisterButtonState(!0),this.trigger("sendEmailData",{email:e.find(".hp-email").val(),password:e.find(".hp-password").val(),captchaCode:e.find(".hp-captcha").val()}))},_switchRegisterButtonState:function(e){var i=this.currentTab.find(".hp-btn");e?i.addClass(s).text(a):i.removeClass(s).text(o)},_switchCaptcha:function(){this.isShowCaptcha.email&&this._showCaptcha(!0)},update:function(e){this.focus(),this.element.find(".hp-collapse-pc").show()},focus:function(e){this.currentTab.find("input:visible").first().focus()}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.register_hujiang}}</span> <a href=javascript:; class="hp-right hp-login-nav">{{button.login}}&nbsp;</a></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-tabs><div class=hp-tab-body><div id=hp-reg-email class=hp-reg-app><div class=hp-input><input class=hp-email name=email data-enable-clean=true data-rule-required=true data-rule-email=true type=email maxlength=35 placeholder="{{input.email}}"> <i class="hp-input-icon hp-icon-input-email"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><div class="hp-input hp-input-password"><input class=hp-password type=password name=password maxlength=20 data-rule-password-length=true data-rule-password=true data-rule-required=true maxlength=35 placeholder="{{input.set_password}} "> <i class="hp-input-icon hp-icon-input-password"></i><p class="hp-pass-bars hp-cf"><span class="hp-pass-bar hp-pass-bar1"></span> <span class="hp-pass-bar hp-pass-bar2"></span> <span class="hp-pass-bar hp-pass-bar3"></span></p><span class=hp-err-tips></span> <span class=hp-flag></span></div><button class="hp-btn hp-btn-green" type=submit>{{button.register}}</button></div></div></div><div class="hp-info-tip hp-agreement">{{element.agreement}}<a href={{agreementLink}}>{{element.terms_conditions}}</a></div></div><div class=hp-collapse-pc><a href=javascript:; class="hp-register-switch hp-switch" data-bi-point=register_mobile_to_emal><i class=hp-icon-input-mobile></i> <span>{{button.sign_up_mobile}}</span></a></div></div></div>'},function(e,i,t){t(89);var n=t(19),s=(t(57),t(70)),a="hp-disabled",o=HJLan.getString("hjPassport","button").completing,r=HJLan.getString("hjPassport","button").complete,c=(t(81),t(2)),l=t(71),p={sms:{required:HJLan.getString("hjPassport","error").sms_empty}};$.browser&&$.browser.msie&&parseInt($.browser.version,10)<10;n.register("register-sms",[s,l],{template:t(91),init:function(){var e=this,i=e.element,t=i.find("#hp-reg-mobile");e.currentMode="mobile",e.currentTab=t,e.dtm=i.find(".hp-dtm-resend"),i.find("input").hpinput(),t.hpvalidator({messages:p}),i.on("keydown","input",function(i){13===i.keyCode&&e._onRegisterBtnClick()}).on("click",".hp-btn",function(){$(this).hasClass(a)||e._onRegisterBtnClick()}),"pc"===c.client?i.find(".hp-login-nav").hide():i.on("click",".hp-login-nav",function(){e.trigger("login")}),"pc"!==c.client&&i.find(".hp-inner-dialog.hp-info-bottom").css("position","fixed")},_initDtm:function(){var e=this;e._initDtmInterval($(".hp-dtm-resend")),this.element.on("click",".hp-dtm-resend",function(){var i=$(this);if(!i.hasClass(a)){var t=e.currentTab.find("input.hp-captcha");if(t.length&&t.is(":visible")){var n=e.currentTab.hpvalidator("checkElement",t);if(!n)return}i.addClass(a),e.trigger("checkExist",function(i){i?(e.trigger("getMessageCode"),e._initDtmInterval($(this))):e.trigger("checkCaptcha")})}})},_toggleDtm:function(e){e&&this.interval||this.dtm[e?"removeClass":"addClass"](a)},showErrorOnField:function(e,i,t,n){this.currentTab.hpvalidator("showError",e,i,t,n)},_onRegisterBtnClick:function(){var e=this.currentTab;e.hpvalidator("valid")&&(this._switchRegisterButtonState(!0),this.trigger("sendMobileData",{mobileCode:e.find(".hp-dtm").val()}))},_switchRegisterButtonState:function(e){var i=this.currentTab.find(".hp-btn");e?i.addClass(a).text(o):i.removeClass(a).text(r)},_updateCaptcha:function(){},_initDtmInterval:function(e){var i=this,t=60;e.text()===HJLan.getString("hjPassport","button").resend&&e.text(""),i.interval&&window.clearInterval(i.interval),i.interval=setInterval(function(){e.text("("+t.toString()+"s)").removeClass("hp-sms-resend"),t<=0&&(e.text(HJLan.getString("hjPassport","button").resend).removeClass(a).addClass("hp-sms-resend"),clearInterval(i.interval),i.interval=null),t--},1e3)},_updateTimer:function(){this.interval&&(window.clearInterval(this.interval),this.interval=null,this.element.find(".hp-dtm-resend").text(HJLan.getString("hjPassport","button").resend).removeClass(a))},update:function(e){var i=this;i.element;this.focus(),this._renderUserPhone(e);var t=$("#hp-dialog"),n=e.initLanData;t.find(".hp-content").html("<p>"+n.element.receive_captcha_quit_register+"</p>"),t.find(".hp-btn-ok").text(n.button.quit_now),t.find(".hp-btn-close").text(n.button.complete_now)},_renderUserPhone:function(e){var i=this.element,t=e.mobile||"";i.find(".hp-sms-mobile").text(t)},focus:function(e){this.currentTab.find("input:visible").first().focus()}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.message_captcha}}</span></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-tabs><div class=hp-tab-body><div id=hp-reg-mobile class=hp-reg-sms><div class=hp-sms-info><div class=hp-icon-typo></div><div class=hp-sms-subtitle>{{element.captcha_has_sent}}<span class=hp-sms-mobile></span></div><div class="hp-dtm-resend hp-disabled"></div></div><div class="hp-input hp-input-dtm"><input class=hp-dtm maxlength=6 name=sms data-rule-required=true data-rule-sms=true placeholder="{{input.dynamic_code}}"> <i class="hp-input-icon hp-icon-input-sms"></i> <span class=hp-err-tips>{{error.sms_wrong}}</span></div><button class="hp-btn hp-btn-green" type=submit>{{button.complete}}</button></div></div></div></div></div></div>'},function(e,i,t){t(93);var n=t(19),s=(t(57),t(65)),a=(t(64),"hp-disabled"),o=HJLan.getString("hjPassport","button").confirming,r=HJLan.getString("hjPassport","button").confirm,c={captcha:{required:HJLan.getString("hjPassport","error").captcha_empty}};$.browser&&$.browser.msie&&parseInt($.browser.version,10)<10;n.register("register-sms-captcha",[s],{template:t(95),init:function(){var e=this,i=e.element;e.currentTab=i,i.find("input").hpinput(),i.hpvalidator({messages:c}),i.on("keydown","input",function(i){13===i.keyCode&&e._onConfirmBtnClick()}).on("click",".hp-btn",function(){$(this).hasClass(a)||e._onConfirmBtnClick()}).on("click",".hp-back",function(){e.trigger("previous")})},_onConfirmBtnClick:function(){var e=this.currentTab;e.hpvalidator("valid")&&(this._switchConfirmButtonState(!0),this.trigger("getMessageCode",{imgCode:e.find(".hp-captcha").val()}))},_switchConfirmButtonState:function(e){var i=this.currentTab.find(".hp-btn");e?i.addClass(a).text(o):i.removeClass(a).text(r)},focus:function(e){this.currentTab.find("input:visible").first().focus()},clearHpCaptcha:function(e){var i=this.currentTab;i.find(".hp-captcha").val(e||"")}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.register_hujiang}}</span></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-sms-info><div class="hp-icon-captcha-resend hp-show-img"></div><div class=hp-sms-subtitle>{{element.captcha_again}}</div></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><button class="hp-btn hp-btn-green" type=submit>{{button.confirm}}</button></div></div></div>'},function(e,i,t){t(97);var n=t(19),s=(t(39),t(3)),a="hp-hidden";n.register("register-success",{template:t(99),templateInitData:{fillUserInfoUrl:t(43).fillUserInfoUrl},init:function(){var e=this;this.element.find(".hp-btn-continue").click(function(){e.trigger("continue")})},update:function(e){var i,t=this.element,n=e.initLanData;switch(e.currentFlow){case"login-third":i=n.element.login_success_redirect_part1;break;case"register":i=n.element.register_success;break;default:i=n.element.cooperation}t.find(".hp-thank-word").text(i),t.find(".hp-reg-success-username").text(e.username||""),this.trigger("getPushData",t.find(".hp-filled-content")),this._renderMail(e)},_renderMail:function(e){var i=this,n=this.element,s=n.find(".hp-btn-tomail");if(e.email){var o=e.email,r=o.substr(o.indexOf("@")),c=t(43).EMAIL_DOMAIN,l=c[r]||"http://www."+r.substr(1);s.removeClass(a).click(function(){i.trigger("emailClick",l)})}else s.hide(),n.find(".hp-btn-success").addClass("hp-btn-success-alone")},genPushMarkup:function(e){for(var i="",t=(HJLan.getString("hjPassport","button"),HJLan.getString("hjPassport","element"),0);t<e.length;t++){var n=e[t];switch(n.textType){case"qq":i+='<a href="'+n.link+'" data-bi-type="'+n.textType+'" class="hp-external hp-cf hp-external-ad" target="_blank"><p class="hp-ex-title">'+n.title+'</p><p class="hp-ex-info hp-cf"><img src="'+n.img+'" alt="'+n.title+'"><span class="hp-ex-text">'+n.subTitle+'</span><span class="hp-ex-btn">buttonData.click_join_group</span></p></a>';break;case"banner":i+='<a href="'+n.link+'" data-bi-type="'+n.textType+'" class="hp-external hp-cf hp-external-banner" target="_blank">',i+='<img src="'+n.img+'" alt=""></a>';break;case"weixin":i+='<a href="'+n.link+'"  data-bi-type="'+n.textType+'" class="hp-external hp-cf hp-external-ad" target="_blank"><p class="hp-ex-title">'+n.title+'</p><p class="hp-ex-info hp-cf"><img src="'+n.img+'" alt="'+n.title+'"><span class="hp-ex-text">'+n.subTitle+"</span>",s.isPC?i+='<span class="hp-ex-text">eleData.discover_follow</span>':s.isMobile?i+='<span class="hp-ex-text">eleData.search_follow~</span>':s.isWeixin&&(i+='<span class="hp-ex-text">eleData.identity_follow</span>'),i+="</p></a>";break;case"adv":default:i+='<a href="'+n.link+'" data-bi-type="adv" class="hp-external hp-cf hp-external-ad" target="_blank"><p class="hp-ex-title">'+n.title+'</p><p class="hp-ex-info hp-cf"><img src="'+n.img+'" alt="'+n.title+'"><span class="hp-ex-text">'+n.subTitle+"</span></p></a>"}}return i}})},function(e,i){},,function(e,i){e.exports='<div class="hp-view hp-view-success"><div class=hp-section><div class=hp-banner><div class=hp-banner-text><span class="hp-icon hp-icon-smile"></span> <span class=hp-thank-word>{{element.cooperation}}</span></div></div><div class=hp-filled-content></div><div class="hp-cf hp-btn-success"><a href=javascript:; class="hp-fl hp-btn-tomail">{{button.switch_email}}</a> <a href=javascript:; class="hp-fr hp-btn-continue" data-bi-point=register_success_continue>{{button.continue_browse}}</a></div></div></div>'},function(e,i,t){t(101);var n=t(19),s=(t(54),t(81),t(2)),a={1000:"中小幼",2000:"外语",3000:"留学",4000:"职场兴趣",5000:"口语",6000:"考试考证"},o=function(e){return a[e]};n.register("interest-select",{template:t(103),init:function(){var e=this,i=e.element,t=i.find(".hp-skip"),n=i.find(".hp-back");"mobile"===s.client?(i.delegate(".hp-interest li","touchstart",function(e){$(e.target).addClass("hp-grade-selected")}).delegate(".hp-interest li","touchend",function(e){$(e.target).removeClass("hp-grade-selected")}),i.find(".hp-interest li").tap(function(i){var t=$(this).attr("data-interest-id");setTimeout(function(){e.trigger("interestSelect",t)},300)})):i.delegate(".hp-interest li","click",function(i){var t=$(i.currentTarget).attr("data-interest-id");e.trigger("interestSelect",t)}),t.bind("click",function(i){e.trigger("skip")}),n.bind("click",function(i){e.trigger("previous")})},_switchCategory:function(e){var i=this.element.find(".hp-block");i.hide(),i.filter("[data-category="+e+"]").show()},update:function(e,i){e=e||1e3,this.element.find(".hp-cate-title").text(o(e)),this._switchCategory(e),i&&this.element.find(".hp-back").hide()}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><section class=hp-section><div class="hp-head hp-head-interest"><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3><span class=hp-cate-title>读取分类</span><span class=hp-gray>(单选)</span></span></div></div><div class=hp-body><div class="hp-block hp-interest-k12" data-category=1000><div class="hp-info hp-info-interest"><p>孩子正在哪个阶段？</p></div><div class=hp-interest><span class=hp-name>学龄前</span><ul class=hp-cf><li data-interest-id=1001><span>0-2岁</span></li><li data-interest-id=1002><span>3-4岁</span></li><li data-interest-id=1003><span>5-6岁</span></li></ul></div><div class=hp-interest><span class=hp-name>小学</span><ul class=hp-cf><li data-interest-id=1010><span>一年级</span></li><li data-interest-id=1011><span>二年级</span></li><li data-interest-id=1012><span>三年级</span></li><li data-interest-id=1013><span>四年级</span></li><li data-interest-id=1014><span>五年级</span></li><li data-interest-id=1015><span>六年级</span></li></ul></div><div class=hp-interest><span class=hp-name>中学</span><ul class=hp-cf><li data-interest-id=1020><span>初一</span></li><li data-interest-id=1021><span>初二</span></li><li data-interest-id=1022><span>初三</span></li><li data-interest-id=1030><span>高一</span></li><li data-interest-id=1031><span>高二</span></li><li data-interest-id=1032><span>高三</span></li></ul></div></div><div class="hp-block hp-interest-lang" data-category=5000><div class="hp-info hp-info-interest"><p>想修炼哪门技能？</p></div><div class=hp-interest><span class=hp-name>英语</span><ul class=hp-cf><li data-interest-id=5001><span>基础发音</span></li><li data-interest-id=5002><span>生活口语</span></li><li data-interest-id=5003><span>职场口语</span></li></ul></div><div class=hp-interest><span class=hp-name>日语</span><ul class=hp-cf><li data-interest-id=5010><span>基础发音</span></li><li data-interest-id=5011><span>生活口语</span></li><li data-interest-id=5012><span>职场口语</span></li></ul></div><div class=hp-interest><span class=hp-name>韩语</span><ul class=hp-cf><li data-interest-id=5020><span>基础发音</span></li><li data-interest-id=5021><span>生活口语</span></li><li data-interest-id=5022><span>职场口语</span></li></ul></div></div><div class="hp-block hp-interest-abroad" data-category=3000><div class="hp-info hp-info-interest"><p>要参加哪门考试？</p></div><div class=hp-interest><span class=hp-name></span><ul class=hp-cf><li data-interest-id=3001><span>雅思</span></li><li data-interest-id=3002><span>托福</span></li><li data-interest-id=3003><span>SAT</span></li><li data-interest-id=3004><span>GRE</span></li><li data-interest-id=3005><span>GMAT</span></li></ul></div></div><div class="hp-block hp-interest-career" data-category=2000><div class="hp-info hp-info-interest"><p>想学习哪门外语？</p></div><div class=hp-interest><span class=hp-name>英语</span><ul class=hp-cf><li data-interest-id=2001><span>零基础</span></li><li data-interest-id=2007><span>备考</span></li><li data-interest-id=2008><span>美剧英乐</span></li><li data-interest-id=2006><span>商务英语</span></li></ul></div><div class=hp-interest><span class=hp-name>日语</span><ul class=hp-cf><li data-interest-id=2017><span>零基础</span></li><li data-interest-id=2018><span>备考</span></li><li data-interest-id=2019><span>日剧动漫</span></li><li data-interest-id=2020><span>实用日语</span></li></ul></div><div class=hp-interest><span class=hp-name>其他</span><ul class=hp-cf><li data-interest-id=2036><span>韩语</span></li><li data-interest-id=2031><span>法语</span></li><li data-interest-id=2032><span>德语</span></li><li data-interest-id=2033><span>西语</span></li></ul></div></div><div class="hp-block hp-interest-oral" data-category=6000><div class="hp-info hp-info-interest"><p>要参加哪门考试？</p></div><div class=hp-interest><span class=hp-name>考试考证</span><ul class=hp-cf><li data-interest-id=6005><span>四六级</span></li><li data-interest-id=6006><span>商英</span></li><li data-interest-id=6017><span>中高口</span></li><li data-interest-id=6007><span>能力考</span></li><li data-interest-id=6008><span>Topik</span></li><li data-interest-id=6014><span>DELE</span></li><li data-interest-id=6015><span>德福</span></li><li data-interest-id=6013><span>TEF/TCF</span></li><li data-interest-id=6018><span>考研</span></li><li data-interest-id=6019><span>财会</span></li><li data-interest-id=6009><span>职称</span></li><li data-interest-id=6016><span>公务员</span></li></ul></div></div><div class="hp-block hp-interest-exam" data-category=4000><div class="hp-info hp-info-interest"><p>对什么感兴趣？</p></div><div class=hp-interest><span class=hp-name>职场提升</span><ul class=hp-cf><li data-interest-id=4012><span>求职面试</span></li><li data-interest-id=4005><span>办公软件</span></li><li data-interest-id=4013><span>行业技能</span></li><li data-interest-id=4014><span>管理方法</span></li></ul></div><div class=hp-interest><span class=hp-name>美好生活</span><ul class=hp-cf><li data-interest-id=4016><span>育儿</span></li><li data-interest-id=4017><span>理财</span></li><li data-interest-id=4006><span>读书</span></li><li data-interest-id=4007><span>摄影</span></li><li data-interest-id=4018><span>旅游</span></li><li data-interest-id=4009><span>绘画</span></li><li data-interest-id=4003><span>美妆瘦身</span></li><li data-interest-id=4015><span>影视音乐</span></li></ul></div></div></div><div class="hp-foot hp-cf"><div class=hp-fr><a href=javascript:; class="hp-gray-lighter hp-skip">{{button.skip}}</a></div></div></section></div>';
},function(e,i,t){t(105);var n=t(19),s=t(2);n.register("category-select",{template:t(109),init:function(){var e=this;this.element.on("click",".hp-login",function(i){e.trigger("login"),i.preventDefault()}).on("click",".hp-category a",function(i){e.trigger("selectCategory",$(i.currentTarget).attr("data-category-id")),i.preventDefault()}).on("click",".hp-back",function(){e.trigger("previous")}).find(".hp-skip").click(function(i){e.trigger("skip")}),"pc"===s.client&&this.element.find(".hp-back").hide()},update:function(e){e&&(this.element.find(".hp-fl").hide(),this.element.find(".hp-banner-title").text("沪江小调查"),this.element.find(".hp-banner-info").text("指尖轻触，只为贴心服务"))}})},function(e,i){},,,,function(e,i){e.exports='<div class=hp-view><div class="hp-head hp-head-category-select"><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>兴趣选择</span></div></div><div class=hp-section><div class="hp-banner hp-banner-slogan"></div><div class="hp-info hp-info-category"><span class="hp-icon hp-icon-arrow-down"></span><p>告诉我您最感兴趣的内容</p></div><div class=hp-category><ul class=hp-cf><li><a href=# class=hp-cate-blue2 data-category-id=5000><span class="hp-icon hp-icon-oral"></span> <span class=hp-name>口语</span></a></li><li><a href=# class=hp-cate-red data-category-id=3000><span class="hp-icon hp-icon-liuxue"></span> <span class=hp-name>留学</span></a></li><li><a href=# class=hp-cate-yellow data-category-id=1000><span class="hp-icon hp-icon-k12"></span> <span class=hp-name>中小幼</span></a></li><li><a href=# class=hp-cate-green3 data-category-id=2000><span class="hp-icon hp-icon-cate"></span> <span class=hp-name>外语学习</span></a></li><li><a href=# class=hp-cate-green3 data-category-id=6000><span class="hp-icon hp-icon-exam"></span> <span class=hp-name>考试考证</span></a></li><li><a href=# class=hp-cate-green3 data-category-id=4000><span class="hp-icon hp-icon-interest"></span> <span class=hp-name>职场兴趣</span></a></li></ul></div><div class="hp-foot hp-cf"><div class=hp-fl>已有帐号 <a href=javascript:; class="hp-green hp-login">{{button.quick_login}}</a></div><div class=hp-fr><a href=javascript:; class="hp-gray-lighter hp-skip">{{button.skip}}</a></div></div></div></div>'},function(e,i,t){t(111);var n=t(19),s=t(71),a=t(65),o="hp-hide";n.register("login-third",[s,a],{template:t(113),init:function(){var e=this,i=e.element;e.currentTab="no-account",e.toggleAccount("no"),i.hpvalidator({events:"focusin",validClass:""}),i.on("click",".hp-btn-register",function(i){e.trigger("accountBind")}).on("click",".hp-btn-no-account",function(i){e.toggleAccount("no")}).on("click",".hp-btn-has-account",function(i){e.toggleAccount("has")}).on("click",".hp-back",function(i){e.trigger("previous")})},toggleAccount:function(e){var i=this,t=i.element,n=t.find(".hp-btn-no-account"),s=t.find(".hp-btn-has-account");"no"===e?(i.currentTab="no-account",n.addClass("active"),s.removeClass("active"),t.find(".hp-register-action").show(),t.find(".hp-bind-action").hide()):(i.currentTab="has-account",s.addClass("active"),n.removeClass("active"),t.find(".hp-register-action").hide(),t.find(".hp-bind-action").show())},getFields:function(){var e=this.element;return{userName:e.find(".hp-username").val(),password:e.find(".hp-password").val(),imgcode:e.find(".hp-captcha").val()}},_showCaptcha:function(e){var i=this.element.find(".hp-input-captcha"),t=i.find(".hp-captcha");e?(i.removeClass(o),t.removeAttr("disabled")):(i.addClass(o),t.attr("disabled","disabled"))},update:function(e,i,t,n){var s=this.element,a="";i&&s.find(".hp-user-name").text(i),e&&s.find(".hp-user-avatar").attr("src",e),t&&("weixin"===t||"wechat"===t?(this.submitBtn.text(n.button.bind_weixin),a=n.element.wechat):"qq"===t?(this.submitBtn.text(n.button.bind),a=n.element.qq):(this.submitBtn.text(n.button.bind),a=n.element.weibo),s.find(".hp-platform").text(a))},accountBindFail:function(e,i,t){var n=[e,i,t];"no-account"===this.currentTab&&(n=[i]),this.trigger("showErrorMessage",n.join(","))}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-section><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.register_hujiang}}</span></div></div><div class=login-third-container><div class=hp-login-third><div class=hp-user><img class=hp-user-avatar alt=头像 src="//i2.hjfile.cn/f96/92/85/34819285.jpg"><div class=hp-user-name>第三方登录后的用户名</div></div><div class=hp-btns><button class="hp-btn hp-btn-no-account">{{element.no_hujiang}}</button> <button class="hp-btn hp-btn-has-account">{{element.had_hujiang}}</button></div><div class=hp-btn-actions><div class="hp-register-action hp-hide"><button class="hp-btn hp-btn-green hp-btn-register">{{button.register}}</button><p class="hp-login-tip hp-desktop">* {{element.generate_hujiang_part1}}<span class=hp-platform>{{element.weixin}}</span>{{element.generate_hujiang_part2}}<span class=hp-platform>{{element.weixin}}</span>{{element.generate_hujiang_part3}}</p><p class="hp-login-tip hp-mobile">* {{element.generate_hujiang_part1}}<span class=hp-platform>{{element.weixin}}</span>{{element.generate_hujiang_part2}}<span class=hp-platform>{{element.weixin}}</span>{{element.generate_hujiang_part3}}</p></div><div class="hp-bind-action hp-hide"><div class="hp-input hp-input-username"><input class=hp-username name=username autocomplete=off autocapitalize=off autocorrect=off data-enable-clean=true data-rule-required=true placeholder="{{input.enter_already_account}}"> <i class="hp-input-icon hp-icon-input-username"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class=hp-input><input type=password class=hp-password name=password data-rule-required=true maxlength=20 placeholder="{{input.password}}"> <i class="hp-input-icon hp-icon-input-password"></i> <span class=hp-err-tips>密码错误提示</span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><button class="hp-btn hp-btn-green hp-btn-bind hp-submit-btn">{{button.bind}}</button><p class="hp-login-tip hp-desktop">* {{element.bind_hujiang_part1}}<span class=hp-platform>{{element.weixin}}</span>{{element.bind_hujiang_part2}}</p><p class="hp-login-tip hp-mobile">* {{element.bind_hujiang_part1}}<span class=hp-platform>{{element.weixin}}</span>{{element.bind_hujiang_part2}}</p></div></div></div></div></div></div>'},function(e,i,t){t(115);var n=t(19);t(39),t(3);n.register("login-third-success",{template:t(117),init:function(){var e=this;this.element.find(".hp-btn-continue").click(function(){e.trigger("continue")})},update:function(e){}})},function(e,i){},,function(e,i){e.exports='<div class="hp-view hp-register-success"><div class=hp-section><div class=hp-success><div class=hp-success-text><span class="hp-icon hp-icon-success"></span> <span class=hp-thank-word>登录成功</span></div></div><div class=qrcode><p class=qrcode-text>关注公众号“沪江”（ hujiang4u ）管理帐号信息并享受优质学习服务</p><img class=qrcode-img src="//res.hjfile.cn/co/pass/images/wechat.png"></div><button class="hp-btn hp-btn-green hp-btn-auto hp-btn-continue">继续浏览</button></div></div>'},function(e,i,t){t(119);var n=t(19),s=t(59);n.register("resetpwd-choose",[s],{template:t(121),init:function(){var e=this,i=e.element;i.on("click",".hp-sms",function(i){e.trigger("smsSelect")}).on("click",".hp-email",function(i){e.trigger("emailSelect")}).on("click",".hp-back",function(i){e.trigger("previous")})}})},function(e,i){},,function(e,i){e.exports='<div class="hp-view resetpwd-choose-wrap"><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.choose_reset_way}}</span></div></div><div class=hp-section><div class=hp-reset-choose><div class="hp-list hp-cf"><a class=hp-sms href=javascript:void(0)><p><span class="hp-icon hp-icon-sms"></span></p><span class=hp-name>{{button.sms}}</span></a> <a class=hp-email href=javascript:void(0)><p><span class="hp-icon hp-icon-email"></span></p><span class=hp-name>{{button.email}}</span></a></div></div><div class=hp-third-login><span class=hp-hide>{{button.third_login}}</span><div class="hp-list hp-cf"><a class=hp-wechat><p><span class="hp-icon hp-icon-weixin"></span></p><span class=hp-name>{{button.wechat}}</span></a> <a class=hp-qq><p><span class="hp-icon hp-icon-qq"></span></p><span class=hp-name>{{button.qq}}</span></a> <a class=hp-weibo><p><span class="hp-icon hp-icon-weibo"></span></p><span class=hp-name>{{button.weibo}}</span></a></div></div></div></div>'},function(e,i,t){t(123);var n=t(19),s=t(71),a=t(65),o=t(64);n.register("resetpwd-sms",[s,a,o],{template:t(125),init:function(){var e=this,i=e.element,t=function(i){var t=this,n=$(i.element).val();i.validated?e.trigger("checkNotExist","mobile",n,function(i,n,s){i?(e._toggleDtm(!0),t.showValid("mobile",!0)):(e._toggleDtm(!1),t.showError("mobile",n,s,!0))}):e._toggleDtm(!1)};e.currentTab=e.element,i.hpvalidator({fields:{mobile:{validated:t}}}),i.on("click",".hp-back",function(i){e.trigger("previous")})},getFields:function(){var e=this.element;return{mobile:e.find("[name=mobile]").val(),msgcode:e.find("[name=sms]").val()}}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.resetpwd_message}}</span></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-input><input class=hp-mobileno name=mobile data-enable-clean=true data-rule-cellphone=true data-rule-required=true type=tel maxlength=11 placeholder="{{input.enter_mobile}}"> <i class="hp-input-icon hp-icon-input-mobile"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><div class="hp-input hp-input-half hp-input-dtm"><input class=hp-dtm maxlength=6 name=sms data-rule-required=true data-rule-sms=true placeholder="{{input.dynamic_code}}"> <i class="hp-input-icon hp-icon-input-sms"></i> <span class="hp-btn-half hp-dtm-get hp-disabled">{{button.get_dynamic_code}}</span> <span class=hp-err-tips>{{error.sms_wrong}}</span></div><button class="hp-btn hp-btn-green hp-submit-btn">{{button.next_step}}</button><div class=hp-info-tip>{{element.complain_part1}} <a href="http://kefu.hujiang.com/feedback/" target=_blank data-external-link=true data-bi-point=resetpwd_msg class=hp-green>{{element.complain_part2}}</a>{{element.complain_part3}} <a href="http://kefu.hujiang.com/shensu/" data-external-link=true target=_blank class=hp-green data-bi-point=resetpwd_complain>{{element.complain_part4}}</a></div></div></div></div>'},function(e,i,t){t(127);var n=t(19),s=t(71),a=t(65);n.register("resetpwd-email",[s,a],{template:t(129),init:function(){var e=this,i=e.element,t=function(i,t){if(t.validated!==!1){var n=this;e.trigger("checkNotExist",i,$(t.element).val(),function(e,t,s){e?n.showValid(i,!0):n.showError(i,t,s,!0)})}},n={events:"focusin,focusout",validated:function(e){t.call(this,"email",e)}};i.hpvalidator({fields:{email:n}}),i.on("click",".hp-back",function(i){e.trigger("previous")})},getFields:function(){var e=this.element;return{email:e.find("[name=email]").val(),imgcode:e.find("[name=captcha]").val()}},_updateForm:function(){this._updateCaptcha(),this._showCaptcha(!0)}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.resetpwd_email}}</span></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-input><input class=hp-email name=email data-enable-clean=true data-rule-required=true data-rule-email=true type=email maxlength=35 placeholder="{{input.email}}"> <i class="hp-input-icon hp-icon-input-email"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><button class="hp-btn hp-btn-green hp-submit-btn">{{button.next_step}}</button><div class=hp-info-tip>{{element.complain_part1}} <a href="http://kefu.hujiang.com/feedback/" target=_blank data-external-link=true data-bi-point=resetpwd_msg class=hp-green>{{element.complain_part2}}</a>{{element.complain_part3}} <a href="http://kefu.hujiang.com/shensu/" data-external-link=true target=_blank class=hp-green data-bi-point=resetpwd_complain>{{element.complain_part4}}</a></div></div></div></div>'},function(e,i,t){t(131);var n=t(19),s="hp-hide";n.register("resetpwd-email-validate",{template:t(133),init:function(){var e=this;this.element.on("click",".hp-back",function(){e.trigger("previous")})},update:function(e){var i=this,n=this.element.find(".hp-btn-mailbox"),a=e.email,o=a.substr(a.indexOf("@")),r=t(43).EMAIL_DOMAIN,c=r[o]||"http://www."+o.substr(1);this.element.find(".hp-mail-addr").text(a),n.removeClass(s).click(function(){i.trigger("emailClick",c)})}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.resetpwd_email}}</span></div></div><div class="hp-section hp-reset-email-validate"><div class=hp-section-pb><div class=hp-ps><p class=hp-p1>{{element.email_has_sent}}</p><p class="hp-p2 hp-mail-addr"></p></div><button class="hp-btn hp-btn-green hp-btn-mailbox">{{button.confirm_email_address}}</button><div class=hp-info-tip>{{element.complain_part1}} <a href="http://kefu.hujiang.com/feedback/" target=_blank data-external-link=true data-bi-point=resetpwd_msg class=hp-green>{{element.complain_part2}}</a>{{element.complain_part3}} <a href="http://kefu.hujiang.com/shensu/" data-external-link=true target=_blank class=hp-green data-bi-point=resetpwd_complain>{{element.complain_part4}}</a></div></div></div></div>'},function(e,i,t){t(135);var n=t(19),s=t(71);n.register("resetpwd-reset",[s],{template:t(137),init:function(){var e=this,i=e.element;i.find("[name=password]").hpstrength(),i.hpvalidator({rules:{password_nocheck:{equal:e.element.find("[name=password]")}},messages:{password_nocheck:{equal:HJLan.getString("hjPassport","error").match_pwd}}}),i.on("click",".hp-back",function(i){e.trigger("previous")})},getFields:function(){this.element;return{password:this.element.find(".hp-password").val()}},update:function(e){var i=e&&e.username;this.element.find(".hp-username").text(i)}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.resetpwd}}</span></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-input><div class=hp-p>{{element.username}}：<span class=hp-username></span></div></div><div class="hp-input hp-input-password"><input class=hp-password type=password name=password maxlength=20 data-rule-password-length=true data-rule-password=true data-rule-required=true maxlength=35 placeholder="{{input.set_password}} "> <i class="hp-input-icon hp-icon-input-password"></i><p class="hp-pass-bars hp-cf"><span class="hp-pass-bar hp-pass-bar1"></span> <span class="hp-pass-bar hp-pass-bar2"></span> <span class="hp-pass-bar hp-pass-bar3"></span></p><span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-password"><input type=password class=hp-password name=password_nocheck data-rule-required=true maxlength=20 placeholder="{{input.re_enter_password}}"> <i class="hp-input-icon hp-icon-input-password"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><button class="hp-btn hp-btn-green hp-submit-btn">{{button.next_step}}</button><div class=hp-info-tip>{{element.complain_part1}} <a href="http://kefu.hujiang.com/feedback/" target=_blank data-external-link=true data-bi-point=resetpwd_msg class=hp-green>{{element.complain_part2}}</a>{{element.complain_part3}} <a href="http://kefu.hujiang.com/shensu/" data-external-link=true target=_blank class=hp-green data-bi-point=resetpwd_complain>{{element.complain_part4}}</a></div></div></div></div>'},function(e,i,t){t(139);var n=t(19);n.register("resetpwd-success",{template:t(141),init:function(){var e=this;this.element.on("click",".hp-btn",function(){e.trigger("toLogin")}).on("click",".hp-back",function(){e.trigger("previous")})}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.reset_success}}</span></div></div><div class="hp-section hp-reset-success"><div class=hp-section-pb><p class=hp-p><span class="hp-icon hp-icon-smile-green"></span><br>{{element.savepwd}}</p><button class="hp-btn hp-btn-green">{{button.quick_login}}</button><div class=hp-safe-txt>{{element.safe_txt}}</div><div class=hp-safe-subtxt>{{element.safe_subtxt}}</div></div></div></div>'},function(e,i,t){t(143);var n=t(19);n.register("resetpwd-fail",{template:t(145),init:function(){var e=this;this.element.on("click",".hp-btn",function(){e.trigger("previous")}).on("click",".hp-back",function(){e.trigger("previous")})}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.reset_fail}}</span></div></div><div class="hp-section hp-reset-success"><div class=hp-section-pb><p class=hp-p><span class="hp-icon hp-icon-unhappy"></span><br>{{element.unbind_reset_way_part1}}<br>{{element.unbind_reset_way_part2}}</p><button class="hp-btn hp-btn-green">{{button.reselect}}</button><div class=hp-info-tip>{{element.complain_part1}} <a href="http://kefu.hujiang.com/feedback/" target=_blank data-external-link=true data-bi-point=resetpwd_msg class=hp-green>{{element.complain_part2}}</a>{{element.complain_part3}} <a href="http://kefu.hujiang.com/shensu/" data-external-link=true target=_blank class=hp-green data-bi-point=resetpwd_complain>{{element.complain_part4}}</a></div></div></div></div>'},function(e,i,t){t(147);var n=t(19),s="hp-disabled",a=HJLan.getString("hjPassport","button").entering,o=HJLan.getString("hjPassport","button").confirm_login,r=HJLan.getString("hjPassport","error").upload_avatar_fail,c=HJLan.getString("hjPassport","error").image_large,l=HJLan.getString("hjPassport","error").image_invalid,p=t(81),h=t(2),d={username:{required:HJLan.getString("hjPassport","error").username_empty}},u=t(43),f=$.browser&&$.browser.msie&&parseInt($.browser.version,10)<9,g=u.getHost();n.register("register-success-rename",{template:t(149),templateInitData:{formLink:u.getUploadDomain+"/account/api/uploadavatar?from=pass&callback=document.domain='"+g+"';top.mycallback"},init:function(){var e=this,i=e.element;e.ele=i,i.find("input").hpinput(),window.mycallback=function(i){if(0!=i.status){var t=e.ele.find("#hp-upload-form");return t[0].reset(),t.find(".hp-upload-file").val(""),e.trigger("showMsg",r),e._hideLoading(),!1}e._successUpload(i)};var t=function(i,t){if(t.validated!==!1){var n=this,s=$(t.element).val();e.trigger("checkExist",i,s,function(e,t){e?n.showValid(i,!0):n.showError(i,t,!0)})}},n={events:"focusin, focusout",validated:function(e){t.call(this,"username",e)}};i.hpvalidator({messages:d,fields:{username:n}}),f&&e.ele.find(".hp-icon-loading2").removeClass("hui-icon-spin5").addClass("hp-loading2-ie8"),i.on("keyup","input",function(i){13===i.keyCode&&e._onContinueBtnClick()}).on("click",".hp-btn-continue",function(){$(this).hasClass(s)||e._onContinueBtnClick()}).on("click",".hp-back",function(){e.trigger("previous")}).on("change",".hp-upload-file",function(i){p.fire("bi_upload_avatar"),e._uploadSubmit(i)}).on("click","#js-app-upload",function(){p.fire("bi_upload_avatar"),e.trigger("getAvatarFromNative")}).on("click",".hp-loading-wrap2",function(i){e._hideLoading()}),"pc"===h.client?i.find(".hp-login-nav").hide():i.on("click",".hp-login-nav",function(){e.trigger("login")}),"zh-CN"!==HJLan.currentLan&&i.find(".hp-username").addClass("hp-padding-en")},update:function(e,i){if(!i){var t=e.initLanData.element.set_username_only;this.ele.find(".hp-show-subtitle").text(t)}this._renderUserName(e)},_showLoading:function(){var e=this.element;e.find(".hp-loading-wrap2").show()},_hideLoading:function(){var e=this.element;e.find(".hp-loading-wrap2").hide()},_renderUserName:function(e){var i=this.element,t=e.username||"";i.find(".hp-username").val(t)},_onContinueBtnClick:function(){var e=this,i=e.ele,t=i.find(".hp-username").val(),n="username";i.hpvalidator("valid")&&(this._switchRegisterButtonState(!0),e.trigger("checkExist",n,t,function(t,s,a){t?e.trigger("changeUserName",{username:i.find(".hp-username").val()}):(e.showErrorOnField(n,s,a),e._switchRegisterButtonState(!1))}))},_switchRegisterButtonState:function(e){var i=this.ele.find(".hp-btn");e?i.addClass(s).text(a):i.removeClass(s).text(o)},_uploadSubmit:function(e){var i=this,t=this.ele.find("#hp-upload-form"),n=e.target||window.event.srcElement,s=n.value,a=s.substring(s.lastIndexOf(".")+1),o=e.target.files;return!!this._checkFile(a,o)&&(t.submit(),void i._showLoading())},_checkFile:function(e,i){var t="",n=/(jpg|png|gif|jpeg|bmp)$/i;if(!n.test(e)&&e?t=l:i&&i[0]&&i[0].size>524288&&(t=c),t){var s=this.ele.find("#hp-upload-form");return s[0].reset(),s.find(".hp-upload-file").val(""),this.trigger("showMsg",t),!1}return!!e},_successUpload:function(e){var i=u.getUploadDomain+e.data.pic+"?_t="+ +new Date,t=this,n=new Image;n.src=i,n.onload=function(){var i=(new Date,n.width>n.height?n.height:n.width),s=i>n.width?0:Math.floor((n.width-i)/2),a=i>n.height?0:Math.floor((n.height-i)/2),o={uploadToken:e.data.uploadToken,x:s,y:a,width:i,height:i};t.trigger("uploadImage",o)}},_updateAvatar:function(e){var i=this;i._hideLoading();var t=this.ele.find(".hp-upload-avatar");t.attr("src",e)},_removeUploadFun:function(){this.ele.find(".hp-upload-con").empty().addClass("hp-icon-app-register-success")}})},function(e,i){},,function(e,i,t){e.exports='<div class=hp-view><div class=hp-rename-head><div class="hp-show-title hp-rename-title">{{element.register_success}}</div><div class="hp-show-subtitle hp-rename-subtitle">{{element.set_username}}</div><div class=hp-upload-con><form action={{formLink}} id=hp-upload-form name=hp-upload-form enctype=multipart/form-data data-rule-required=true method=post target=hidden_frame><input type=file name=file class=hp-upload-file accept=image/png,image/gif,image/jpeg,image/jpg,image/bmp> <img src='+t(150)+' class="hp-show-img hp-upload-avatar"></form><iframe name=hidden_frame style=display:none></iframe></div></div><div class=hp-rename-body><div class=hp-input><input class=hp-username name=username data-enable-clean=true data-rule-username-start=true data-rule-username=true data-rule-required=true autocapitalize=off autocorrect=off autocomplete=false maxlength="20"> <span class=hp-rename-label>{{input.username}}：</span> <span class=hp-err-tips></span> <span class=hp-flag></span></div><button class="hp-btn hp-btn-green hp-btn-continue">{{button.confirm_login}}</button><div class=hp-safe-txt>{{element.safe_txt}}</div><div class=hp-safe-subtxt>{{element.safe_subtxt}}</div></div><div class=hp-loading-wrap2><i class="hui-icon-spin5 hp-icon-loading2 animate-spin"></i></div></div>'},function(e,i){e.exports="data:image/png;base64,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"},function(e,i,t){t(152);var n=t(19),s=(t(52).Tabs,t(57),t(71)),a=t(64),o=t(65),r=(t(2),t(70)),c=t(81),l="hp-disabled",p="hp-hide",h={mobile:{required:HJLan.getString("hjPassport","error").mobile_empty},sms:{required:HJLan.getString("hjPassport","error").sms_empty},captcha:{required:HJLan.getString("hjPassport","error").captcha_empty}};n.register("login-bind-mobile",[s,a,o,r],{template:t(154),init:function(){var e=this,i=e.element,t=i;e.currentMode="mobile",e.currentTab=t,e.dtm=i.find(".hp-dtm-get"),i.find("input").hpinput();var n={validated:function(i){var t=this,n=$(i.element).val();i.validated===!0?e.trigger("checkExist","mobile",n,function(i,n,s,a){i?(e._showCaptcha(!a),e._toggleDtm(!0),t.showValid("mobile",!0)):(e._toggleDtm(!1),t.showError("mobile",n,s,!0))}):e._toggleDtm(!1)}};t.hpvalidator({messages:h,fields:{mobile:n}}),i.on("click",".hp-captcha-pic",function(){e._updateCaptcha()})},update:function(e){var i,t,n,s=this.element,a=e.initLanData;switch(e.currentFlow){case"login":i=a.element.account_safe_low,n="hp-icon-account-unsafe";break;default:i=a.element.register_success,t=a.element.bind_mobile_safe,n="hp-icon-account-safe"}s.find(".hp-show-title").text(i),s.find(".hp-show-img").addClass(n),s.find(".hp-show-subtitle").text(t);var o=$("#hp-dialog");o.find(".hp-title").removeClass(p).find(".hp-dialog-img").addClass("hp-icon-typo"),o.find(".hp-dialog-subtitle").html(a.element.sent_wait),o.find(".hp-content").html(a.element.quit_bind_fail),o.find(".hp-btn-ok").text(a.button.bind_later),o.find(".hp-btn-close").text(a.button.wait)},_showCaptcha:function(e){var i=this.element.find(".hp-input-captcha"),t=i.find(".hp-captcha");e?(c.fire("3rd_login_telbind_picvertify"),i.removeClass(p),t.removeAttr("disabled")):(i.addClass(p),t.attr("disabled","disabled"))},_toggleDtm:function(e){e&&this.interval||this.dtm[e?"removeClass":"addClass"](l)},showErrorOnField:function(e,i,t,n){this.currentTab.hpvalidator("showError",e,i,t,n)},getFields:function(){var e=this.element;return{mobile:e.find(".hp-mobileno").val(),msgCode:e.find(".hp-dtm").val()}}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class="hp-head hp-login-head hp-hide"><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>{{element.login}}</span></div></div><div class=login-bind-container><div class=hp-login-bind-info><div class="hp-show-title account-safe-low">{{element.account_safe_low}}</div><div class=hp-show-img></div><div class=hp-show-subtitle>{{element.bind_mobile_safe}}</div></div><div class=hp-login-bind-inputs><div class=hp-input><input class=hp-mobileno name=mobile data-enable-clean=true data-rule-cellphone=true data-rule-required=true type=tel maxlength=11 placeholder="{{input.enter_mobile}}"> <i class="hp-input-icon hp-icon-input-mobile"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><div class="hp-input hp-input-half hp-input-dtm"><input class=hp-dtm maxlength=6 name=sms data-rule-required=true data-rule-sms=true placeholder="{{input.dynamic_code}}"> <i class="hp-input-icon hp-icon-input-sms"></i> <span class="hp-btn-half hp-dtm-get hp-disabled">{{button.get_dynamic_code}}</span> <span class=hp-err-tips>{{error.sms_wrong}}</span></div><button class="hp-btn hp-submit-btn hp-btn-green" type=submit>{{button.binding_enter}}</button></div></div><div class=hp-bind-link><a href=javascript:; class=hp-skip>{{button.skip}}&nbsp;</a></div></div>';
},function(e,i,t){t(156);var n=t(19),s=(t(39),t(48),t(49),t(57),t(3),t(2)),a=(t(43),"hp-disabled"),o="登录中",r="登录",c=t(59),l=t(65);n.register("bind",[c,l],{template:t(158),init:function(){var e=this,i=e.element;this.submitBtn=i.find(".hp-btn"),i.hpvalidator({events:"focusin",validClass:""}),i.find("input").hpinput(),i.on("click",".hp-user-del",function(){e._switchAvatar(!1),e.trigger("clear")}).on("keyup","input",function(i){13===i.keyCode&&e._handleLogin()}).on("click",".hp-btn",function(){e._handleLogin()}).on("click",".hp-forgot",function(){e.trigger("forgotPwd")}).on("click",".hp-back",function(){e.trigger("previous")}),"pc"===s.client&&i.find(".hp-back").hide(),null==s.container&&e.element.find(".hp-section").addClass("pdb20")},_handleLogin:function(){!this.submitBtn.hasClass(a)&&this.element.hpvalidator("valid")&&(this.disableSubmit(!0),this.trigger("login",{userName:this.element.find(".hp-username").val(),password:this.element.find(".hp-password").val(),imgcode:this.element.find(".hp-captcha").val()}))},disableSubmit:function(e){e?this.submitBtn.addClass(a).text(o):this.submitBtn.removeClass(a).text(r)}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>登录已有沪江帐号</span></div></div><div class=hp-section><div class=hp-body><div class="hp-input hp-input-username"><input class=hp-username name=username autocomplete=off autocapitalize=off autocorrect=off data-enable-clean=true data-rule-required=true placeholder="填写已有沪江帐号(用户名/邮箱)"> <i class="hp-input-icon hp-icon-input-username"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class=hp-input><input type=password class=hp-password name=password data-rule-required=true maxlength=20 placeholder="填写密码"> <i class="hp-input-icon hp-icon-input-password"></i> <a class=hp-forgot href=javascript:void(0); data-bi-point=forgot_password>忘记密码？</a> <span class=hp-err-tips>密码错误提示</span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><button class="hp-btn hp-btn-green" type=submit data-bi-point=bind_login_click_login>登录</button></div><div class="hp-third-login hp-third-gray hp-third-bottom hp-third-bind"><div class=hp-third-content><span class=hp-third-select>请选择已登录过的第三方帐号</span></div><div class="hp-list hp-cf"><a class=hp-wechat target=_blank data-bi-point=bind_login_click_wechat><p><span class="hp-icon hp-icon-weixin"></span></p><span class=hp-name>{{button.wechat}}</span></a> <a class=hp-qq target=_blank><p><span class="hp-icon hp-icon-qq" data-bi-point=bind_login_click_qq></span></p><span class=hp-name>{{button.qq}}</span></a> <a class=hp-weibo target=_blank><p><span class="hp-icon hp-icon-weibo" data-bi-point=bind_login_click_weibo></span></p><span class=hp-name>{{button.weibo}}</span></a></div></div></div></div>'},function(e,i,t){t(160);var n=t(19),s=(t(39),t(48),t(49),t(52).Tabs,t(2)),a=(t(57),t(65)),o=t(64),r=t(71),c="hp-disabled",l="正在绑定",p="绑定",h=(t(81),{sms:{required:HJLan.getString("hjPassport","error").sms_empty},captcha:{required:HJLan.getString("hjPassport","error").captcha_empty}});$.browser&&$.browser.msie&&parseInt($.browser.version,10)<10;n.register("bind-sms",[a,o,r],{template:t(162),init:function(){var e=this,i=e.element,t=i;e.currentMode="mobile",e.currentTab=t,i.find("input").hpinput(),i.on("click",".hp-back",function(){e.trigger("previous")}),t.hpvalidator({messages:h}),this._showCaptcha(!0),this._toggleDtm(!0)},getFields:function(){var e=this.element;return{msgCode:e.find(".hp-dtm").val()}},_switchBindButtonState:function(e){var i=this.currentTab.find(".hp-btn");e?i.addClass(c).text(l):i.removeClass(c).text(p)},update:function(e,i){this._renderUserPhone(e),i&&i.isLogin&&"pc"===s.client&&this.element.find(".hp-back").hide()},_renderUserPhone:function(e){var i=this.element,t=e.mobile||"";i.find(".hp-sms-mobile").text(t)}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>填写验证码</span></div></div><div class=hp-section><div class=hp-section-pb><div class=hp-tabs><div class=hp-tab-body><div id=hp-reg-mobile class=hp-reg-sms><div class=hp-sms-info><div class=hp-icon-typo></div><div class=hp-sms-subtitle>您正在绑定手机<span class=hp-sms-mobile></span></div><div class=hp-sms-subtitle>请输入验证码</div></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><div class="hp-input hp-input-half hp-input-dtm"><input class=hp-dtm maxlength=6 name=sms data-rule-required=true data-rule-sms=true placeholder="{{input.dynamic_code}}"> <i class="hp-input-icon hp-icon-input-sms"></i> <span class="hp-btn-half hp-dtm-get hp-disabled">{{button.get_dynamic_code}}</span> <span class=hp-err-tips>{{error.sms_wrong}}</span></div><button class="hp-btn hp-btn-green hp-submit-btn" type=submit data-bi-point=bind_sms_click_bind>绑定</button></div></div></div></div></div></div>'},function(e,i,t){t(164);var n=t(19),s=t(2);n.register("bind-update",{template:t(166),init:function(){var e=this;this.element.on("click",".hp-btn-ok",function(){e.trigger("toAccountSetting")}).on("click",".hp-btn-cancel",function(){e.trigger("cancel")}).on("click",".hp-back",function(){e.trigger("previous")})},update:function(e,i,t){var n=this.element;n.find(".hp-bind-mobile").text(e),n.find(".hp-update-mobile").text(i),t&&t.isLogin&&"pc"===s.client&&n.find(".hp-back").hide()}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>更换手机</span></div></div><div class=hp-section><div class=hp-bind-transfer><span class=hp-icon-bind-update></span><p class=hp-info>该账号已绑定<span class=hp-bind-mobile></span></p><p class=hp-info>是否更换为<span class=hp-update-mobile></span></p></div></div><div class="hp-cf hp-btn-update"><a href=javascript:; class="hp-fl hp-btn-cancel" data-bi-point=bind_update_click_cancel>取消</a> <a href=javascript:; class="hp-fr hp-btn-ok" data-bi-point=bind_update_click_ok>更换</a></div></div>'},function(e,i,t){t(168);var n=t(19);n.register("bind-success",{template:t(170)})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><span class=hp-h3>绑定成功</span></div></div><div class=hp-section><div class=hp-bind-transfer><span class=hp-icon-bind-success></span><p class=hp-info>手机号绑定成功</p></div></div></div>'},function(e,i,t){t(172);var n=t(19);n.register("bind-fail",{template:t(174),init:function(){var e=this;this.element.on("click",".hp-btn",function(){e.trigger("toBindChoose")}).on("click",".hp-back",function(){e.trigger("previous")})}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>绑定失败</span></div></div><div class=hp-section-pb><div class=hp-bind-transfer><span class=hp-icon-bind-failure></span><p class=hp-info>该第三方帐号未登录过沪江</p><p class=hp-info>不是您的已有帐号</p></div><button class="hp-btn hp-btn-green" type=submit data-bi-point=bind_fail_rebind>返回重选登录方式</button></div></div>'},function(e,i,t){t(176);var n=t(19),s=(t(52).Tabs,t(57),t(71)),a=t(64),o=t(65),r=(t(2),t(81)),c="hp-disabled",l="hp-hide",p=t(3),h={mobile:{required:HJLan.getString("hjPassport","error").mobile_empty},sms:{required:HJLan.getString("hjPassport","error").sms_empty},captcha:{required:HJLan.getString("hjPassport","error").captcha_empty}};n.register("bind-mobile",[s,a,o],{template:t(178),init:function(){var e=this,i=e.element,t=i;e.currentMode="mobile",e.currentTab=t,e.dtm=i.find(".hp-dtm-get"),i.find("input").hpinput();var n={validated:function(i){var t=this,n=$(i.element).val();i.validated===!0?e.trigger("checkExist","mobile",n,function(i,n,s,a){i?(e._showCaptcha(!a),e._toggleDtm(!0),t.showValid("mobile",!0)):(e._toggleDtm(!1),t.showError("mobile",n,s,!0))}):e._toggleDtm(!1)}};t.hpvalidator({messages:h,fields:{mobile:n}}),i.on("click",".hp-captcha-pic",function(){e._updateCaptcha()}),i.on("focusin",".hp-mobileno",function(){e.trigger("fireBindMobileBi","bind_moile_mobile_input")}),i.on("focusin",".hp-dtm",function(){e.trigger("fireBindMobileBi","bind_moile_sms_input")})},update:function(e,i){var t=this,n=t.element,s=n.find(".hp-title"),a=n.find(".hp-sub-title"),o=n.find(".hp-btn");if(i&&"object"==typeof i){var r=i.bindMobileTitle,c=i.bindMobileSubTitle,l=i.bindMobileButtonLabel;r&&s.text(r),c&&a.text(c),l&&o.text(l)}t.$dialog||t.closeDialog(),(p.isMobile||p.isWeixin)&&($(".hp-dialog").width(300),$(".hp-title").css("fontSize","17px"),$(".hp-sub-title").css("paddingBottom","32px"),$(".hp-icon-close").addClass("hp-close-mobile"),$(".hp-view-container").removeClass("hp-view-container hp-content").addClass("hp-mobile-container"))},_showCaptcha:function(e){var i=this.element.find(".hp-input-captcha"),t=i.find(".hp-captcha");e?(r.fire("3rd_login_telbind_picvertify"),i.removeClass(l),t.removeAttr("disabled")):(i.addClass(l),t.attr("disabled","disabled"))},_toggleDtm:function(e){e&&this.interval||this.dtm[e?"removeClass":"addClass"](c)},showErrorOnField:function(e,i,t,n){this.currentTab.hpvalidator("showError",e,i,t,n)},getFields:function(){var e=this.element;return{mobile:e.find(".hp-mobileno").val(),msgCode:e.find(".hp-dtm").val()}},closeDialog:function(){var e=this;e.element;$(".hp-dialog").each(function(i,t){$(t).find(".hp-force-bind-mobile").length>0&&(e.$dialog=$(t),e.$dialog.find(".hp-close").on("click",function(){e.trigger("skipBindMobile"),e.trigger("fireBindMobileBi","bind_moile_close")}))})}})},function(e,i){},,function(e,i){e.exports='<div class=hp-view><div class="hp-bind-mobile-info hp-force-bind-mobile"><div class=hp-title>{{element.bindMobileTitle}}</div><div class=hp-sub-title>{{element.bindMobileSubTitle}}</div></div><div class=hp-login-bind-inputs><div class=hp-input><input class=hp-mobileno name=mobile data-enable-clean=true data-rule-cellphone=true data-rule-required=true type=tel maxlength=11 placeholder="{{input.enter_mobile}}"> <i class="hp-input-icon hp-icon-input-mobile"></i> <span class=hp-err-tips></span> <span class=hp-flag></span></div><div class="hp-input hp-input-half hp-input-captcha hp-hide"><input class=hp-captcha disabled maxlength=8 name=captcha data-rule-captcha=true data-rule-required=true placeholder="{{input.captcha}}"> <span class="hp-btn-half hp-captcha-pic"></span> <i class="hp-input-icon hp-icon-input-captcha"></i> <span class=hp-err-tips></span></div><div class="hp-input hp-input-half hp-input-dtm"><input class=hp-dtm maxlength=6 name=sms data-rule-required=true data-rule-sms=true placeholder="{{input.dynamic_code}}"> <i class="hp-input-icon hp-icon-input-sms"></i> <span class="hp-btn-half hp-dtm-get hp-disabled">{{button.get_dynamic_code}}</span> <span class=hp-err-tips>{{error.sms_wrong}}</span></div><button class="hp-btn hp-submit-btn hp-btn-green" type=submit>{{button.binding_enter}}</button></div></div>'},function(e,i,t){t(180);var n=t(19);n.register("user-protocol",{template:t(182),init:function(){var e=this,i=e.element;i.on("click",".hp-back",function(){e.trigger("previous")})},update:function(){}})},function(e,i){},,function(e,i){e.exports='<div class="hp-view hp-user-protocol"><div class=hp-head><div class="hp-title hp-cf"><div class="hp-left hp-back"><span class="hp-icon hp-icon-arrow-left"></span></div><span class=hp-h3>沪江用户注册协议</span></div></div><div class=hp-section><div class=hp-section-pb><p class=hp-h3>一、注册协议条款的确认和接受</p><p>沪江/沪江网(以下亦称“本网站”)同意按照本协议的规定及其不定时发布的操作规则提供基于互联网和移动互联网的相关服务(以下称“网络服务”)。</p><p>为获得网络服务, 申请人应当认真阅读、充分理解本《协议》中各条款, 包括免除或者限制沪江责任的免责条款及对用户的权利限制条款。审慎阅读并选择接受或不接受本《协议》(未成年人应在法定监护人陪同下阅读)。</p><p>同意接受本协议的全部条款的, 申请人应当按照页面上的提示完成全部的注册程序, 并在注册程序过程中点击“同意”按钮, 否则视为不接受本《协议》全部条款, 申请人应当终止并退出申请。</p><p>本《协议》可由沪江定期更新, 更新后的协议条款一旦公布即代替原来的协议条款, 恕不再另行通知, 用户可在本网站查阅最新版协议条款。在本网站修改《协议》条款后, 如果用户不接受修改后的条款, 请立即停止使用本网站提供的网络服务, 继续使用的用户将被视为已接受了修改后的协议。</p><p class=hp-h3>二、服务内容</p><p>1、网络服务的具体内容由沪江根据实际情况提供, 例如学习资讯、学习工具、沪江社团、沪江网校、CC课堂相关应用等服务。</p><p>2、本网站提供的部分网络服务(例如沪江网校和CC课堂收费课程等)为收费的网络服务, 用户使用收费网络服务需要支付一定的费用。对于收费的网络服务, 本网站会在用户使用之前给予用户明确的提示, 只有用户根据提示确认其愿意支付相关费用, 用户才能使用该等收费网络服务。如用户未支付相关费用, 则本网站有权不向用户提供该等收费网络服务。</p><p>3、用户理解, 本网站仅提供相关的网络服务,除此之外与相关网络服务有关的设备(如个人电脑、手机、及其他与接入互联网或移动网有关的装置)及所需的费用(如为接入互联网而支付的电话费及上网费、为使用移动网络而支付的手机费)均应由用户自行负担。</p><p>4、用户理解，本网站提供并提请用户在购买课程前先完整试听。用户可按《退班政策说明》，在从购买课程之日起7天之内且未产生听课记录（不含试听）的，可无理由退班。</p><p>5、用户理解，本网站将通过电子邮件或电话等其他方式与注册会员保持联络及沟通。用户在此同意接受本网站通过电子邮件、电话或其他方式向用户发送或推荐包括会员信息和课程信息在内的相关商业信息。</p><p class=hp-h3>三、用户帐号</p><p>1、经本网站注册系统完成注册程序并通过身份认证的用户即为正式用户。</p><p>2、如发现用户帐号中含有不雅文字或不恰当名称的, 本网站保留注销其用户帐号的权利。</p><p>3、用户帐号的所有权归本网站, 用户完成申请注册手续后, 用户享有使用权。3个月未使用的用户号, 本网站保留收回的权利。</p><p>4、用户有义务保证密码和帐号的安全, 用户利用该帐号所进行的一切活动引起的任何损失或损害, 由用户自行承担全部责任, 本网站不承担任何责任。如用户发现帐号遭到未授权的使用或发生其他任何安全问题, 应立即修改号密码并妥善保管。因黑客行为或用户的保管疏忽导致帐号非法使用, 本网站不承担任何责任。</p><p>5、用户帐号独占使用权仅属于初始申请注册人。为避免因号问题产生纠纷, 用户不应私下有偿、无偿转让或合用帐号, 用户应当自行承担因违反此要求而遭致的任何损失。</p><p>6、用户帐号号在丢失、遗忘密码及因合用产生使用权归属纠纷后, 须遵照本网站的申诉途径请求找回帐号。用户可以凭初始注册资料向本网站申请找回帐号。本网站的户恢复机制仅负责识别申请用户所提资料与系统记录资料是否一致, 而无法识别申诉人是否系帐号的真正使用权人。对用户因被他人冒名申请而致的任何损失, 本网站不承担任何责任, 用户知晓帐号及密码保管责任在于用户, 本网站并不承诺帐号丢失或遗忘密码后用户一定能通过申诉找回帐号。用户应当谨慎填写初始注册邮箱作为确认接收争议帐号的指定邮箱。</p><p class=hp-h3>四、使用规则</p><p>1、用户在使用本网站网络服务过程中, 必须遵循国家的相关法律法规, 不得发布危害国家安全、色情、暴力等非法内容; 也不得利用本网站平台发布含有虚假、有害、胁迫、侵害他人隐私、骚扰、侵害、中伤、粗俗、或其它道德上令人反感的内容。</p><p>2、本网站可依其合理判断, 对违反有关法律法规或本协议约定; 或侵犯、妨害、威胁任何人权利或安全的内容, 或者假冒他人的行为, 本网站有权停止传输任何前述内容, 并有权依其自行判断对违反本条款的任何用户采取适当的法律行动, 包括但不限于, 删除具有违法性、侵权性、不当性等内容, 阻止其使用本网站全部或部分网络服务, 并且依据法律法规保存有关信息并向有关部门报告等。</p><p>3、对于经由本网站网络服务而传送的内容, 本网站不保证前述内容的正确性、完整性或品质。用户在接受本服务时, 有可能会接触到令人不快、不适当或令人厌恶的内容。在任何情况下, 本网站均不对任何内容负责, 包括但不限于任何内容发生任何错误或纰漏以及衍生的任何损失或损害。本网站有权(但无义务)自行拒绝或删除经由本网站网络服务提供的任何内容。用户使用上述内容, 应自行承担风险。</p><p>4、对于用户通过本网站网络服务(包括但不限于社团、网校、CC课堂、相关应用等服务)上传到本网站上可公开获取区域的任何内容, 用户同意沪江在全世界范围内具有免费的、永久性的、不可撤销的、非独家的和完全再许可的权利和许可, 以使用、复制、修改、改编、出版、翻译、据以创作衍生作品、传播、表演和展示此等内容(整体或部分), 和/或将此等内容编入当前已知的或以后开发的其他任何形式的作品、媒体或技术中。</p><p>5、用户通过本网站网络服务所发布的任何内容并不反映本网站的观点或政策, 本网站对此不承担任何责任。用户须对上述内容的真实性、合法性、无害性、有效性等全权负责, 与用户所发布信息相关的任何法律责任由用户自行承担, 与本网站无关。</p><p class=hp-h3>五、版权声明</p><p>本网站提供的网络服务中包含的任何文本、图片、图形、音频和/或视频资料均受版权、商标和/或其它财产所有权法律的保护, 未经相关权利人同意, 上述资料均不得在任何媒体直接或间接发布、播放、出于播放或发布目的而改写或再发行, 或者被用于其他任何商业目的。所有以上资料或资料的任何部分仅可作为私人和非商业用途保存。本网站不就由上述资料产生或在传送或递交全部或部分上述资料过程中产生的延误、不准确、错误和遗漏或从中产生或由此产生的任何损害赔偿, 以任何形式, 向用户或任何第三方负责。</p><p class=hp-h3>六、隐私保护</p><p>保护用户隐私是沪江的一项基本政策, 本网站保证不对外公开或向第三方提供用户的注册资料及用户在使用网络服务时存储在本网站内的非公开内容, 但下列情况除外:</p><p>1、事先获得用户的书面明确授权;</p><p>2、根据有关的法律法规要求;</p><p>3、按照相关政府主管部门的要求;</p><p>4、为维护社会公众的利益;</p><p>5、为维护本网站的合法权益;</p><p class=hp-h3>七、本注册协议规范用户使用帐号服务, 用户先前与本网站签署的任何协议与本协议条款不一致的，以本协议为准。本注册协议和沪江社区行为准则等共同构成完整的协议。</p><p></p></div></div></div>'},function(e,i,t){function n(e){m[e]&&g.fire(m[e],{login:!!h.setInterest})}function s(e){if(_[k.currentView]&&(g.fire(_[k.currentView],{duration:+new Date-k.start}),k.currentView=""),_[e]&&""===k.currentView)return k={start:+new Date,currentView:e}}function a(e){return e===u.LOGIN?d.skipsOnLogin:e===u.REGISTER?d.skips:e===u.LOGIN_THIRD?d.skipsOnThird:[]}function o(e){var i=a(h.currentFlow);if(!i)return!1;for(var t=0,n=i.length;t<n;t++)if(i[t]===e)return!0;return!1}function r(e){return e===u.LOGIN?b:e===u.REGISTER?v:e===u.LOGIN_THIRD?w:[]}function c(e){for(var i=r(h.currentFlow),t=i.length,n=e,s=!1,a=0;a<t;a++){var c=i[a];if(c===e||s){if(s=!0,!o(c)){n=c;break}n="",p[c].skiped()}}return n}function l(e,i,t){var e=c(e);if(""!==e){var a=p[e];h.currentAction&&h.currentAction.view.element.hide(),h.currentAction=a,a.load.call(a,i),"popup"===h.mode&&h.element.hpdialog("reset"),a.fireBI&&a.fireBI.call(a),n(e),s(e),"inline"===h.mode&&"mobile"===d.client&&!t&&history&&history.pushState&&(C?(h.firstView=e,h.firstViewOpts=i,h.firstFlow=h.currentFlow):(history.pushState({name:e,currentFlow:h.currentFlow},"","#"+e),d.backLength&&d.backLength++)),C=!1,h.name=e}}var p={},h=t(16),d=(t(18),t(2)),u=t(1).flow,f=t(1).actions,g=t(81),m={login:"login_show","category-select":"interest_step1_show","interest-select":"interest_step2_show","register-sms":"register_sms_show","login-transfer":"login_success_view"},_={"register-mobile":"register_mobile_duration","register-sms":"register_sms_duration"},v=["category-select","interest-select","register-mobile","register-success"],b=["login","login-transfer","category-select","interest-select"],w=["login-third","login-third-bind","login-third-success","category-select","interest-select"],k={start:+new Date,currentView:""},C=!0;e.exports={actions:p,switchToView:l,switchToFlow:function(e,i,n){h.previousFlow!==e&&(h.previousFlow=h.currentFlow),h.currentFlow=e;var s="";switch(e){case u.LOGIN:s=f.LOGIN;break;case u.REGISTER:s=f.CATE_SELECT;break;case u.RESETPWD:s=i&&i.fromThird?i.IsBind?f.RESETPWD_RESET:f.RESETPWD_FAIL:f.RESETPWD_CHOOSE;break;case u.LOGIN_THIRD:s=f.LOGIN_THIRD;break;case u.BIND:s=i&&i.isLogin?i.Mobile?f.BIND_UPDATE:f.BIND_SMS:f.BIND;break;case u.BIND_THIRD:s=i&&i.IsBind?i.Mobile?f.BIND_UPDATE:f.BIND_SMS:f.BIND_FAIL;break;case u.BIND_MOBILE:s=f.BIND_MOBILE;break;default:s=f.LOGIN}if(i){var a=t(43).pattern;i.bindMobile&&a.cell.test(i.bindMobile)&&(h.mobile=Number(i.bindMobile)),i.entry&&(d.entry=i.entry),i.disable&&"email"===i.disable&&(h.diableEmail=!0)}l(s,i,n)}}},function(e,i,t){t(185),t(190),t(194),t(196),t(197),t(198),t(199),t(200),t(201),t(202),t(203),t(205),t(206),t(207),t(209),t(210),t(211),t(212),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(223),e.exports={action:t(17)}},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(62),r=t(16),c=t(57),l=t(2),p=(t(3),t(186)),h=t(187),d=t(81),u=t(43),f=t(40),g=t(188),m=t(189),_=t(60);n.register(s.LOGIN,[m,g,_],{init:function(){var e=this;e.view;e.isRememberPass=e.checkIsRememberPass(),e._initCaptcha(),e._initAvatar()},__tabIndexChanged:function(e){this.fireBI(e)},__previous:function(){n.historyBack()},fireBI:function(e){var i={normal:"login_normal_click",quick:"login_mobile_click"};e=e||"normal",d.fire(i[e],{groupId:r.categoryId,categoryid:r.interestId})},__registerClick:function(){n.switchToFlow(a.REGISTER,{source:"login"})},__switchAvatar:function(e){r.isNewUser=!e},__clear:function(){this._cleanUserCache()},__trialLogin:function(){o.trialLoginOnApp(function(e){HJSDK.invokeOriginally("navigator_closeWindow")})},__closeView:function(){n.redirect()},__forgotPwd:function(){n.switchToFlow(a.RESETPWD)},__checkList:function(e,i){o.isShowLoginCaptcha({username:e}).success(function(e){return e.Data&&e.Data.Result?i(!0,"",!1):void i(!0,"",!0)}).failure(function(e,t){i(!1,e,t)})},__noticeInputChange:function(e){"account"===e.type&&CCSDK.invoke("noticeAccountChange",{account:e.val})},__handleAutoFill:function(e){var i,t=e.select;delete e.select,i=this._getDetailFromList(e),t&&CCSDK.invoke("noticeMatchAccount",{account:i.uname}),this.view._handleAutoFill(i)},__checkLogin:function(e){var i=this;i.view;i["_"+e.loginType+"Login"](e)},_normalLogin:function(e){var i=this,t=this.view,a=i._getUserInfoFormCache(),r=e.userName||a.uname;e.isRawPwd,e.loginType,e.password,e.Platform;i.onOff=!1,i.passLoginState=!1,e.userName=r,e.token=c.token||"",passwordMd5=h(e.password),e.password=passwordMd5,delete e.isRawPwd,delete e.Platform,o.login(e).success(function(e){i.passLoginState=!0,t.disableSubmit(!1),i._SkipBindMobile(e.Data.IsHujia,function(t){return e.Data.BindMobileRequired&&!t?n.switchToView(s.LOGIN_BIND_MOBILE,e.Data):void i._syncLogin(e.Data)})}).failure(function(e,t){i._loginFailure(e,t)})},_quickLogin:function(e){var i=this,t=i.view;e.Platform,e.loginType;i.onOff=!1,i.passLoginState=!1,r.mobile=e.mobile,delete e.Platform,o.msgLogin(e).success(function(e){if(i.passLoginState=!0,e.Data.isFirstLogin){var a={token:e.Data.Token};return t.disableSubmit(!1),n.switchToView(s.LOGIN_SETPWD,a)}i._syncLogin(e.Data)}).failure(function(e,t){i._loginFailure(e,t)})},_syncLogin:function(e){var i=null===e.UserTag,t=this.view,a=function(){t.disableSubmit(!1),r.setInterest=i,i?n.switchToView(s.CATE_SELECT,!0):n.switchToView(s.LOGIN_TRANSFER)};o.syncLogin(e,function(){d.fire("sync_login_success",{logintype:"uname"}),a()},function(e){d.fire("sync_login_failure",{logintype:"uname"}),t.disableSubmit(!1)})},_loginFailure:function(e,i){var t=this.view;f.showErrorMessage(i,e,t),d.fire("login_failure",{errorcode:i}),t.disableSubmit(!1)},_cleanUserCache:function(){p.removeCookie(u.uidCookie),p.removeCookie(u.unameCookie)},_getDetailFromList:function(e){for(var i=e.list,t=0,n=i.length;t<n;t++)if(e.word===i[t][e.key])return{uname:i[t].account,uid:i[t].userID,auto:i[t].autoLogin,raw:i[t].rememberPass}},_getInfoFromHistory:function(e){var i=[];return l.history_user_list&&$.each(l.history_user_list,function(t,n){i.push(n[e])}),i},_getUserInfoFormCache:function(){l.previous_user_info||l.history_user_list,l.preferred_user_id;return{uname:decodeURIComponent(p.getCookie(u.unameCookie)),uid:p.getCookie(u.uidCookie)}},_getAppInfoFromOption:function(){l.content_app_info},_initCover:function(){var e=this,i=e._getAppInfoFromOption();i&&(showCover=!0,e.view.updateCover(i.appname,i.appicon))},_initAvatar:function(){var e=this,i=e._getUserInfoFormCache(),t=i.uname,n=i.uid,s=!1;t&&n&&(s=!0,e.view.updateAvatar(t,o.getAvatar(n),i.pwd)),e.view._switchAvatar(s)},_initCaptcha:function(){var e=this,i=e.view;o.isShowLoginCaptcha().success(function(e){i.initShowCaptcha(e.Data.Result)}),e.view._switchCaptcha()},_initUsernameInput:function(){var e,i=this,t=i.view;t._switchAvatar(!1),e=i._getUserInfoFormCache(),e&&t.initUserHint(e)},show:function(e){var i=this.view;c.checkImageUrl()&&i._updateCaptcha();var i;this.view.show()},__cancelConfirm:function(){var e=this;e.passLoginState?(e.view.tabCancelText(!1),CCSDK.invoke("cancelLogin",function(i){i.result&&(e.view.tabLoginPage(!0),e.view.tabCancelText(!0))})):(e.onOff=!0,e.view.tabCancelText(!1))},_selectBtnToGrey:function(e,i){var t,n;void 0==e&&void 0==i?(n={},t="onBtnLoginClicked"):(n={code:e,message:i},t="onPassVerifyFailed"),CCSDK.invoke(t,n)},checkIsRememberPass:function(){return!!this._getUserInfoFormCache().raw}})},function(e,i){function t(e){var i=document.cookie.indexOf(e+"="),t=i+e.length+1;if((i||e==document.cookie.substring(0,e.length))&&i!=-1){var n=document.cookie.indexOf(";",t);return n==-1&&(n=document.cookie.length),decodeURIComponent(document.cookie.substring(t,n))}}function n(e,i,t,n,s,a){t=t||864e5;var o=new Date((new Date).getTime()+t);document.cookie=e+"="+encodeURIComponent(i)+(t?";expires="+o.toGMTString():"")+(n?";path="+n:"")+(s?";domain="+s:"")+(a?";secure":"")}function s(e,i,n){t(e)&&(document.cookie=e+"="+(i?";path="+i:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}e.exports={getCookie:t,setCookie:n,removeCookie:s}},function(e,i){function t(e){return d(n(h(e),e.length*f))}function n(e,i){e[i>>5]|=128<<i%32,e[(i+64>>>9<<4)+14]=i;for(var t=1732584193,n=-271733879,s=-1732584194,p=271733878,h=0;h<e.length;h+=16){var d=t,u=n,f=s,g=p;t=a(t,n,s,p,e[h+0],7,-680876936),p=a(p,t,n,s,e[h+1],12,-389564586),s=a(s,p,t,n,e[h+2],17,606105819),n=a(n,s,p,t,e[h+3],22,-1044525330),t=a(t,n,s,p,e[h+4],7,-176418897),p=a(p,t,n,s,e[h+5],12,1200080426),s=a(s,p,t,n,e[h+6],17,-1473231341),n=a(n,s,p,t,e[h+7],22,-45705983),t=a(t,n,s,p,e[h+8],7,1770035416),p=a(p,t,n,s,e[h+9],12,-1958414417),s=a(s,p,t,n,e[h+10],17,-42063),n=a(n,s,p,t,e[h+11],22,-1990404162),t=a(t,n,s,p,e[h+12],7,1804603682),p=a(p,t,n,s,e[h+13],12,-40341101),s=a(s,p,t,n,e[h+14],17,-1502002290),n=a(n,s,p,t,e[h+15],22,1236535329),t=o(t,n,s,p,e[h+1],5,-165796510),p=o(p,t,n,s,e[h+6],9,-1069501632),s=o(s,p,t,n,e[h+11],14,643717713),n=o(n,s,p,t,e[h+0],20,-373897302),t=o(t,n,s,p,e[h+5],5,-701558691),p=o(p,t,n,s,e[h+10],9,38016083),s=o(s,p,t,n,e[h+15],14,-660478335),n=o(n,s,p,t,e[h+4],20,-405537848),t=o(t,n,s,p,e[h+9],5,568446438),p=o(p,t,n,s,e[h+14],9,-1019803690),s=o(s,p,t,n,e[h+3],14,-187363961),n=o(n,s,p,t,e[h+8],20,1163531501),t=o(t,n,s,p,e[h+13],5,-1444681467),p=o(p,t,n,s,e[h+2],9,-51403784),s=o(s,p,t,n,e[h+7],14,1735328473),n=o(n,s,p,t,e[h+12],20,-1926607734),t=r(t,n,s,p,e[h+5],4,-378558),p=r(p,t,n,s,e[h+8],11,-2022574463),s=r(s,p,t,n,e[h+11],16,1839030562),n=r(n,s,p,t,e[h+14],23,-35309556),t=r(t,n,s,p,e[h+1],4,-1530992060),p=r(p,t,n,s,e[h+4],11,1272893353),s=r(s,p,t,n,e[h+7],16,-155497632),n=r(n,s,p,t,e[h+10],23,-1094730640),t=r(t,n,s,p,e[h+13],4,681279174),p=r(p,t,n,s,e[h+0],11,-358537222),s=r(s,p,t,n,e[h+3],16,-722521979),n=r(n,s,p,t,e[h+6],23,76029189),t=r(t,n,s,p,e[h+9],4,-640364487),p=r(p,t,n,s,e[h+12],11,-421815835),s=r(s,p,t,n,e[h+15],16,530742520),n=r(n,s,p,t,e[h+2],23,-995338651),t=c(t,n,s,p,e[h+0],6,-198630844),p=c(p,t,n,s,e[h+7],10,1126891415),s=c(s,p,t,n,e[h+14],15,-1416354905),n=c(n,s,p,t,e[h+5],21,-57434055),t=c(t,n,s,p,e[h+12],6,1700485571),p=c(p,t,n,s,e[h+3],10,-1894986606),s=c(s,p,t,n,e[h+10],15,-1051523),n=c(n,s,p,t,e[h+1],21,-2054922799),t=c(t,n,s,p,e[h+8],6,1873313359),p=c(p,t,n,s,e[h+15],10,-30611744),s=c(s,p,t,n,e[h+6],15,-1560198380),n=c(n,s,p,t,e[h+13],21,1309151649),t=c(t,n,s,p,e[h+4],6,-145523070),p=c(p,t,n,s,e[h+11],10,-1120210379),s=c(s,p,t,n,e[h+2],15,718787259),n=c(n,s,p,t,e[h+9],21,-343485551),t=l(t,d),n=l(n,u),s=l(s,f),p=l(p,g)}return Array(t,n,s,p)}function s(e,i,t,n,s,a){return l(p(l(l(i,e),l(n,a)),s),t)}function a(e,i,t,n,a,o,r){return s(i&t|~i&n,e,i,a,o,r)}function o(e,i,t,n,a,o,r){return s(i&n|t&~n,e,i,a,o,r)}function r(e,i,t,n,a,o,r){return s(i^t^n,e,i,a,o,r)}function c(e,i,t,n,a,o,r){return s(t^(i|~n),e,i,a,o,r)}function l(e,i){var t=(65535&e)+(65535&i),n=(e>>16)+(i>>16)+(t>>16);return n<<16|65535&t}function p(e,i){return e<<i|e>>>32-i}function h(e){for(var i=Array(),t=(1<<f)-1,n=0;n<e.length*f;n+=f)i[n>>5]|=(e.charCodeAt(n/f)&t)<<n%32;return i}function d(e){for(var i=u?"0123456789ABCDEF":"0123456789abcdef",t="",n=0;n<4*e.length;n++)t+=i.charAt(e[n>>2]>>n%4*8+4&15)+i.charAt(e[n>>2]>>n%4*8&15);return t}var u=0,f=8;e.exports=t},function(e,i,t){var n=t(57),s=t(62),a=t(81),o=t(40),r=t(16),c=t(2);e.exports={__getMessageCode:function(e){var i,t=this,l=t.view;switch(r.currentFlow){case"resetpwd":i="reset";break;case"login":i="mobilemsgpwd",a.fire("login_mobile_sms");break;default:i="register",a.fire("register_mobile_sms")}e.sendtype=i,e.checkSafe=c.checkSafe,e.token=n.token,s.sendMessage(e).success(function(e){}).failure(function(e,i){o.showErrorMessage(i,e,l)})}}},function(e,i,t){var n=t(62),s=t(16),a=(t(17),t(1).actions,t(1).flow),o=t(2),r=t(3),c=t(81),l=t(43),p=(t(40),function(e,i){return e.replace(/(callbacktype%3d)0/,"$1"+i)}),h={login:"thirdLoginLinks",resetpwd:"thirdResetLinks",bind:"thirdBindLinks",register:"thirdLoginLinks"};e.exports={_getLinks:function(){var e=this._getThirdLinks();r.isPC?this.view._bind3rdClick(e):this.view._update3rdLoginUrl(e)},_initPartial:function(){var e=this,i={weixin:"3rd__weixin",sina:"3rd__sina",qq:"3rd__qq"};s.thirdLoginLinks&&s.thirdLoginLinks.qq?e._getLinks(i):e._getOauthLoginUrl({success:function(e){},failure:function(){console.warn(arguments)}})},__record3rdClick:function(e){var i=1,t=0;c.fire(e,{type:s.currentFlow===a.LOGIN?i:t})},__hanlde3rdClick:function(e){var i=this;i._filterThirdUrl(e,function(e,t){i._open3rdWindow(e,t)})},_init3rdLinks:function(e){e&&e.length&&$.each(e,function(e,i){for(var t in s.thirdBaseLinks)s[h[i.operationName]][t]=p(s.thirdBaseLinks[t],i.operationValue)})},_open3rdWindow:function(e,i){document.domain=l.thirdLoginDomain,window.open(e,"ThirdPartyLogin","location=no,scrollbars=no,width=450,height=600")},_getOauthLoginUrl:function(e){if("object"==typeof e){var i=!1,t={domain:l.thirdLoginDomain,mode:r.device,iswechat:r.isWeixin,protocol:location.protocol,regsource:o.source,returnurl:o.redirectURL,bind_mobile:s.mobile||"",forcelogin:i},a=this;n.getOauthLoginUrlNew(t).success(function(i){var t=i.Data,n=t.operations,o=t.urls,r={};o&&o.length&&$.each(o,function(e,i){r[i.key]=i.Url}),s.thirdBaseLinks=r,a._init3rdLinks(n),a._getLinks(),e.success&&e.success(r)}).failure(function(i,t,n){e.failure&&e.failure(t,i,n)})}},_getThirdLinks:function(){var e=s[h[s.currentFlow]]||"";return e},_filterThirdUrl:function(e,i){var t=e.url;t.split("__");i&&i(t,e.type)}}},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=(t(57),t(62)),r=t(187),c=t(2),l=t(16),p=t(81),h=(t(191),t(192)),d=t(40),u=t(193);n.register(s.LOGIN_SETPWD,[h],{init:function(){},__sendSetPwd:function(e){var i=this;p.fire("setpwd_login_click"),o.loginSetPwd({mobile:l.mobile,password:r(e.password),token:i.cacheOptions.token,source:i._getSource()}).success(function(e){o.addRegInfo(),i._loginSuccess(e.Data)}).failure(function(e,t){i._loginFailure(e,t)})},__previous:function(){"mobile"===c.client?n.historyBack():n.switchToFlow(a.LOGIN)},_getSource:function(){return"string"==typeof c.source?c.source:"function"==typeof c.source?c.source():void 0},_loginSuccess:function(e){var i=this.view,t=null===e.UserTag,a=function(){i._switchLoginButtonState(!1),l.setInterest=t,c.giftSwitch&&u.sendGiftMsg(),t?n.switchToView(s.CATE_SELECT,!0):n.switchToView(s.LOGIN_TRANSFER)},r={BISuccess:function(){p.fire("sync_login_success",{logintype:"uname"})},BIFailure:function(){p.fire("sync_login_failure",{logintype:"uname"})}};o.syncLogin(e,function(){r.BISuccess(),a()},function(){r.BIFailure(),i._switchLoginButtonState(!1)})},_loginFailure:function(e,i){var t=this.view;d.showErrorMessage(i,e,t),p.fire("login_failure",{errorcode:i}),t._switchLoginButtonState(!1)},show:function(e){this.cacheOptions=$.extend({},e),this.view.clearErrorMsg({keyup:!0}),this.view.show(l),p.fire("setpwd_show")}})},function(e,i,t){var n=t(81),s=t(16),a=t(1).actions,o=t(1).flow;e.exports={_getViewKey:function(){return s.currentAction.key},__clickBackBtn:function(){var e=this.view,i=this._getViewKey();e._showDialog(!0),i===a.LOGIN_SETPWD&&n.fire("setpwd_back_click")},__clickSkipBtn:function(){var e=this.view;this._getViewKey();e._showDialog(!0)},__clickDialogBtn:function(e){var i=this._getViewKey();switch(i){case a.LOGIN_SETPWD:n.fire("setpwd_dialog_"+e);break;case a.LOGIN_BIND_MOBILE:var t=s.currentFlow===o.LOGIN?"old_":"3rd_";n.fire(t+"login_telbind_dialog_"+e);break;case a.REGISTER_SMS:n.fire("register_sms_dialog_"+e)}}}},function(e,i,t){var n=t(81),s=t(16),a=t(1).actions,o=t(1).flow;e.exports={_getViewKey:function(){return s.currentAction.key},__clickBackBtn:function(){var e=this.view,i=this._getViewKey();e._showDialog(!0),i===a.LOGIN_SETPWD&&n.fire("setpwd_back_click")},__clickSkipBtn:function(){var e=this.view;this._getViewKey();e._showDialog(!0)},__clickDialogBtn:function(e){var i=this._getViewKey();switch(i){case a.LOGIN_SETPWD:n.fire("setpwd_dialog_"+e);break;case a.LOGIN_BIND_MOBILE:var t=s.currentFlow===o.LOGIN?"old_":"3rd_";n.fire(t+"login_telbind_dialog_"+e);break;case a.REGISTER_SMS:n.fire("register_sms_dialog_"+e)}}}},function(e,i,t){var n=t(2),s={XIAOD:"com.hujiang.dict",CICHANG:"com.hjwordgames",MisCichangIOS:"mis.com.hujiang.wordplus.trial",CichangIOS:"com.hujiang.Cichang-iPad",DevCichangIOS:"com.hujiang.wordplus.trial",DevXiaodIOS:"www.hujiang.com.hjDictByDB",MisXiaodIOS:"com.hujiang.hjm.hjdict",XiaodIOS:"com.hujiang.dict"},a=navigator.userAgent,o=(a.indexOf(s.XIAOD)>-1||a.indexOf(s.XiaodIOS)>-1||a.indexOf(s.DevXiaodIOS)>-1||a.indexOf(s.MisXiaodIOS)>-1,a.indexOf(s.CICHANG)>-1||a.indexOf(s.CichangIOS)>-1||a.indexOf(s.MisCichangIOS)>-1||a.indexOf(s.DevCichangIOS)>-1,n.API_SLD.split("//")[1]),r="";o.indexOf("yz")!=-1?r="http://yz.mci.hujiang.com/activity/MKTTopic20160607/ZTActivity.aspx":"qapass"===o?r="http://dev.mci.hujiang.com/activity/MKTTopic20160607/ZTActivity.aspx":"pass"===o&&(r="http://mci.hujiang.com/activity/MKTTopic20160607/ZTActivity.aspx"),
e.exports={isXIAOD:!1,isCICHANG:!1,sendGiftMsg:function(){HJSDK.invoke("service_addMessage",{title:"价值500元新手福利免费送！",content:"点我！点我！点我！礼包就在这里",scheme:r+"?project=a"}),HJSDK.invoke("event_emit",{eventName:"UserRegisterGifted"})},redirectGiftPage:function(){var e=r+"?project=b";window.location.replace(e)}}},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(57),r=t(62),c=t(187),l=t(2),p=t(16),h=t(81),d=t(40),u=t(195),f=t(43);n.register(s.REGISTER_EMAIL,[u],{init:function(){this._initCaptcha()},__sendEmailData:function(e){var i=this;h.fire("register_email_submit",{groupid:p.categoryId,categoryid:p.interestId}),r.register({userext:e.email,password:c(e.password),username:"",source:i._getSource(),imgcode:e.captchaCode,token:o.token,categoryid:p.interestId,randusername:l.randUserName}).success(function(e){this.is_trial&&(e.Data.is_trial=!0),i._registerSuccess(e.Data)}).failure(function(e,t){i._registerFailure(e,t)}),p.mobile=null,p.email=e.email,p.mobile=null},__login:function(){n.switchToFlow(a.LOGIN)},__previous:function(){"mobile"===l.client?n.historyBack():n.switchToFlow(a.LOGIN)},__switchToMobile:function(){n.switchToView(s.REGISTER_MOBILE)},_getSource:function(){return"string"==typeof l.source?l.source:"function"==typeof l.source?l.source():void 0},_registerSuccess:function(e){var i=this,t={username:e.UserName,cookie:e.Cookie,ticket:e.ticket};$.extend(p,t),h.fire("register_success",{useremail:e.email,usermobile:e.mobile,groupid:p.categoryId,categoryid:p.interestId}),r.addRegInfo(),i.view._switchRegisterButtonState(!1),r.syncLoginCurrentDomain({token:p.ticket,reg3rd:p.reg3rd,remeberdays:14}).success(function(){n.switchToView(s.REGISTER_SUCCESS_RENAME,!0)}).failure(function(){n.switchToView(s.REGISTER_SUCCESS_RENAME,!1)})},_registerFailure:function(e,i){var t=this.view;d.showErrorMessage(i,e,t),t._switchRegisterButtonState(!1)},_initCaptcha:function(){var e=this;e.view.isShowCaptcha={email:!1},r.isShowRegisterCaptcha().success(function(i){if(0===i.Code){var t=i.Data;e.view.isShowCaptcha.email=t.Email,t.Email&&e.view._renderCaptcha(),e.view._switchCaptcha()}})},_skipInsterest:function(){var e=l.skips;if(!e)return!1;for(var i=0,t=e.length;i<t;i++)if("interest-select"===e[i])return!0;return!1},__userProtocol:function(){HJSDK.invoke("navigator_openNewBrowser",{url:f.agreementLink+"&hideTitle=true"})},show:function(){this._skipInsterest()&&this.view.element.find(".hp-img-step").hide(),this.view.show(),h.fire("register_email_show",{groupId:p.categoryId,categoryid:p.interestId})}})},function(e,i,t){var n=t(62),s=t(2);e.exports={__checkExist:function(e,i,t){n.checkUserName(i,e,s.checkSafe).success(function(e){return e.Data&&e.Data.IsSafe?t(!0,"","",!0):void t(!0,"","",!1)}).failure(function(e,i){t(!1,e,i)})}}},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(57),r=t(62),c=t(2),l=t(16),p=t(81),h=t(40),d=t(189),u=t(195),f=t(43);n.register(s.REGISTER_MOBILE,[d,u],{init:function(){this._initCaptcha()},__getRegisterCode:function(e){var i=this,t=i.view;p.fire("register_mobile_submit"),e.token=o.token,r.sendMessage({mobile:e.mobile,imgcode:e.imgCode,token:e.token,sendtype:e.sendtype,checkSafe:c.checkSafe}).success(function(e){i._getRegCodeSuccess(e.Data),t.updateCaptcha(!0)}).failure(function(e,t){i._getRegCodeFailure(e,t)});var n={mobile:e.mobile,email:null,imgCode:e.imgCode,token:e.token,password:e.password};$.extend(l,n)},_getRegCodeSuccess:function(e){var i=this.view;i._switchRegisterButtonState(!1),n.switchToView(s.REGISTER_SMS)},_getRegCodeFailure:function(e,i){var t=this.view;h.showErrorMessage(i,e,t),t._switchRegisterButtonState(!1)},__login:function(){n.oauthRedirect()||n.switchToFlow(a.LOGIN)},__previous:function(){n.oauthRedirect()||("mobile"===c.client?n.redirect():n.switchToFlow(a.LOGIN))},__switchToEmail:function(){n.switchToView(s.REGISTER_EMAIL)},_getSource:function(){return"string"==typeof c.source?c.source:"function"==typeof c.source?c.source():void 0},_initCaptcha:function(){var e=this;e.view._renderCaptcha()},_skipInsterest:function(){var e=c.skips;if(!e)return!1;for(var i=0,t=e.length;i<t;i++)if("interest-select"===e[i])return!0;return!1},__userProtocol:function(){HJSDK.invoke("navigator_openNewBrowser",{url:f.agreementLink+"&hideTitle=true"})},show:function(e){var i="register";this._skipInsterest()&&this.view.element.find(".hp-img-step").hide(),p.fire("register_mobile_show",{groupId:l.categoryId,categoryid:l.interestId}),e&&"login"===e.source&&(i="login"),this.view.show(i,l)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=(t(57),t(62)),r=t(187),c=t(2),l=t(16),p=t(81),h=t(192),d=(t(188),t(40));n.register(s.REGISTER_SMS,[h],{init:function(){c.disableEmail&&this.view.element.find(".hp-tab-head").hide()},__checkExist:function(e){var i=this.view;o.checkUserName(l.mobile,"mobile",c.checkSafe).success(function(i){return i.Data&&i.Data.IsSafe?e(!0):void e(!1)}).failure(function(e,t){d.showErrorMessage(t,e,i)})},__checkCaptcha:function(){n.switchToView(s.REGISTER_SMS_CAPTCHA)},__sendMobileData:function(e){var i=this;o.register({userext:l.mobile,password:r(l.password),username:"",source:i._getSource(),msgCode:e.mobileCode,categoryid:l.interestId,randusername:c.randUserName}).success(function(e){i._registerSuccess(e.Data)}).failure(function(e,t){i._registerFailure(e,t)})},__login:function(){n.switchToFlow(a.LOGIN)},__previous:function(){"mobile"===c.client?n.historyBack():n.switchToFlow(a.REGISTER)},_getSource:function(){return"string"==typeof c.source?c.source:"function"==typeof c.source?c.source():void 0},_registerSuccess:function(e){var i=this,t={username:e.UserName,cookie:e.Cookie,ticket:e.ticket};$.extend(l,t),p.fire("register_sms_nextstep",{result:"success"}),p.fire("register_success",{useremail:e.email,usermobile:e.mobile,groupid:l.categoryId,categoryid:l.interestId}),o.addRegInfo(),i.view._switchRegisterButtonState(!1),o.syncLoginCurrentDomain({token:l.ticket,reg3rd:l.reg3rd,remeberdays:14}).success(function(){n.switchToView(s.REGISTER_SUCCESS_RENAME,!0)}).failure(function(){n.switchToView(s.REGISTER_SUCCESS_RENAME,!1)})},_registerFailure:function(e,i){p.fire("register_sms_nextstep",{result:"failure"});var t=this.view;d.showErrorMessage(i,e,t),t._switchRegisterButtonState(!1)},__getMessageCode:function(){var e=this.view;p.fire("register_mobile_sms"),o.sendMessage({mobile:l.mobile,sendtype:"register",checkSafe:c.checkSafe}).success(function(){}).failure(function(i,t){d.showErrorMessage(t,i,e)})},show:function(){this.view.clearErrorMsg(),this.view.show(l),this.view._initDtm()}})},function(e,i,t){var n=t(17),s=t(1).actions,a=(t(1).flow,t(57)),o=t(62),r=(t(187),t(2)),c=t(16),l=t(81),p=t(40);n.register(s.REGISTER_SMS_CAPTCHA,{init:function(){this.view._updateCaptcha(),this.view._showCaptcha(!0)},__previous:function(){"mobile"===r.client?n.historyBack():n.switchToView(s.REGISTER_SMS)},__getMessageCode:function(e){var i=this.view;l.fire("register_mobile_sms"),e.token=a.token,o.sendMessage({mobile:c.mobile,imgcode:e.imgCode,token:e.token,sendtype:"register",checkSafe:r.checkSafe}).success(function(){i._switchConfirmButtonState(!1),"mobile"===r.client?n.historyBack():n.switchToView(s.REGISTER_SMS)}).failure(function(e,t){p.showErrorMessage(t,e,i),i._switchConfirmButtonState(!1)})},show:function(){this.view._updateCaptcha(),this.view._showCaptcha(!0),this.view.clearHpCaptcha(),this.view.show()}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(16),r=t(62),c=t(81),l=t(2),p=t(40),h=function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=function(e,i){for(var t=0,n=i.length;t<n;t++)if(i[t]===e)return!0;return!1};n.register(s.INTEREST_SELECT,{__previous:function(){"mobile"===l.client?n.historyBack():n.switchToView(s.CATE_SELECT)},__interestSelect:function(e){o.interestId=e,c.fire("interest_choose",{categoryid:e,login:!!o.setInterest,groupid:o.categoryId}),this._switchNextView()},__skip:function(){c.fire("interest_skep"),this._switchNextView()},skiped:function(){o.currentFlow!==a.LOGIN&&o.currentFlow!==a.LOGIN_THIRD||n.switchToView(s.LOGIN_TRANSFER)},show:function(){var e;h(l.skips)&&d(s.CATE_SELECT,l.skips)&&(e=!0),this.view.show(o.categoryId,e)},_switchNextView:function(){if(o.setInterest){var e=o.interestId;e?r.setTag(e).success(function(e){n.switchToView(s.REG_SUCCESS)}).failure(function(e){p.showErrorMessage(e)}):n.switchToView(s.REG_SUCCESS)}else n.switchToView(s.REGISTER)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(16),r=t(81);n.register(s.CATE_SELECT,{__previous:function(){n.historyBack()},__login:function(){n.switchToFlow(a.LOGIN)},__selectCategory:function(e){o.categoryId=e,r.fire("interest_step1_choose",{login:!!o.setInterest,groupid:e}),n.switchToView(s.INTEREST_SELECT)},__skip:function(){r.fire("interest_step1_skip",{login:!!o.setInterest}),this._switchNextView()},_switchNextView:function(){o.setInterest?n.redirect():n.switchToView(s.REGISTER_MOBILE)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=500;n.register(s.LOGIN_TRANSFER,{show:function(){this.view.show(),window.setTimeout(function(){n.redirect()},a)},skiped:function(){n.redirect()}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(2),o=t(16),r=t(62),c=t(81);n.register(s.REG_SUCCESS,{__getPushData:function(e){var i=this;r.getPushData().success(function(t){t.Data&&(e.html(i.view.genPushMarkup(t.Data)),"popup"===o.mode&&o.element.hpdialog("reset"),e.delegate("a[data-bi-type]","click",function(e){var i=$(this),t=i.attr("data-bi-type");c.fire("register_success_choose",{source:a.source,groupid:o.categoryId,categoryid:o.interestId,type:t})}))})},__continue:function(){n.redirect()},__emailClick:function(e){c.fire("register_success_active_email"),window.open(e)},skiped:function(){n.redirect()},show:function(){this.view.show(o)},fireBI:function(){c.fire("register_success_show",{groupId:o.categoryId,categoryid:o.interestId})}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(57),o=t(62),r=t(81),c=t(16),l=t(2),p=t(187),h=t(1).flow,d=t(40),u=t(204),f=t(60);n.register(s.LOGIN_THIRD,[u,f],{__previous:function(){r.fire("3rd_login_back",{regtype:c.thirdEntry}),"mobile"===l.client?n.historyBack():n.switchToFlow(h.LOGIN)},__submit:function(e){var i=this,t=i.view;r.fire("3rd_login_bind_click",{regtype:c.thirdEntry});e.password;e.password=p(e.password),e.token=a.token,o.oauthLogin(e).success(function(e){c.currentFlow=h.LOGIN,i._SkipBindMobile(e.Data.IsHujia,function(i){if(e.Data.BindMobileRequired&&!i)return n.switchToView(s.LOGIN_BIND_MOBILE,e.Data);var a=null===e.Data.UserTag,l=function(){return t.disableSubmit(!1),c.setInterest=a,"weixin"===c.thirdEntry?n.switchToView(s.LOGIN_THIRD_SUCCESS):void(a?n.switchToView(s.CATE_SELECT,!0):n.switchToView(s.LOGIN_TRANSFER))},p={BISuccess:function(){r.fire("sync_login_success",{logintype:"3rd"})},BIFailure:function(){r.fire("sync_login_failure",{logintype:"3rd"})}};o.syncLogin(e.Data,function(){p.BISuccess(),l()},function(e){p.BIFailure()})})}).failure(function(e,i){d.showErrorMessage(i,e,t),t.disableSubmit(!1),r.fire("login_failure",{errorcode:i})})},__accountBind:function(e){var i=this;i._oauthSubmit({userName:c.unameOfThird},null,function(e,t){i.view.accountBindFail(t,e,c.currentAction.view)})},__showErrorMessage:function(e,i,t){d.showErrorMessage(e,i,c.currentAction.view)},show:function(e){var i=this;if(this.view.clearErrorMsg({keyup:!0}),this.view.toggleAccount("no"),!e)return this.view.show();var t=!e.UserTag;e.Platform&&(c.thirdEntry=e.Platform),c.CloneLoginThirdOptions=$.extend(!0,{},e),i._SkipBindMobile(c.CloneLoginThirdOptions.IsHujia,function(e){if(c.CloneLoginThirdOptions.IsBind){c.currentFlow=h.LOGIN;var a={BISuccess:function(){r.fire("sync_login_success",{logintype:"3rd"})},BIFailure:function(){r.fire("sync_login_failure",{logintype:"3rd"})}};if(c.CloneLoginThirdOptions.BindMobileRequired&&!e)n.switchToView(s.LOGIN_BIND_MOBILE,c.CloneLoginThirdOptions);else{o.syncLogin(c.CloneLoginThirdOptions,function(){a.BISuccess(),c.setInterest=t,t?n.switchToView(s.CATE_SELECT,!0):n.switchToView(s.LOGIN_TRANSFER)},function(){})}}else c.unameOfThird=c.CloneLoginThirdOptions.Nick,i.view.show(c.CloneLoginThirdOptions.Headimg,c.CloneLoginThirdOptions.Nick,c.thirdEntry,c.initLanData),$(window).trigger("resize.dialog")})}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(62),o=t(16),r=t(81),c=t(2),l=(t(40),t(1).flow),p=t(60);e.exports={_oauthSubmit:function(e,i,t){var h=this.view;r.fire("3rd_login_register_new",{regtype:o.thirdEntry}),e.source=this._getSource(),e.randusername=c.randUserName,a.oauthRegister(e).success(function(i){var t=this;c.giftSwitch&&(o.currentFlow=l.LOGIN_THIRD),a.addRegInfo(),r.fire("register_success",{useremail:e.email,usermobile:e.mobile,groupid:o.categoryId,categoryid:o.interestId}),p._SkipBindMobile(!1,function(e){if(!e)return n.switchToView(s.LOGIN_BIND_MOBILE,i.Data);var c=null===i.Data.UserTag||!i.Data.UserTag.CategoryId,l=function(){return h.disableSubmit(!1),o.setInterest=c,"weixin"===o.thirdEntry?n.switchToView(s.LOGIN_THIRD_SUCCESS):void(c?n.switchToView(s.CATE_SELECT,!0):n.switchToView(s.LOGIN_TRANSFER))};t.is_trial&&(i.Data.is_trial=!0),i.Data.reg3rd=!0,o.reg3rd=!0,a.syncLogin(i.Data,function(){r.fire("sync_login_success",{regtype:"3rd"}),l()},function(){r.fire("sync_login_failure",{regtype:"3rd"})})})}).failure(function(e,i){t&&t.call(null,e,i)})},_getSource:function(){return"string"==typeof c.source?c.source:"function"==typeof c.source?c.source():void 0}}},function(e,i,t){var n=t(17),s=t(1).actions;n.register(s.LOGIN_THIRD_SUCCESS,{__continue:function(){n.redirect()}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(16),r=(t(2),t(189));n.register(s.RESETPWD_CHOOSE,[r],{__smsSelect:function(){n.switchToView(s.RESETPWD_SMS)},__emailSelect:function(){n.switchToView(s.RESETPWD_EMAIL)},__previous:function(){n.oauthRedirect()||(o.previousFlow===a.BIND?n.switchToFlow(a.BIND):n.switchToFlow(a.LOGIN))}})},function(e,i,t){var n=t(17),s=t(16),a=t(62),o=t(1).actions,r=t(2),c=t(57),l=t(40),p=t(208);n.register(o.RESETPWD_EMAIL,[p],{__previous:function(){"mobile"===r.client?n.historyBack():n.switchToView(o.RESETPWD_CHOOSE)},__submit:function(e){e.token=c.token;var i=this.view;a.findPwdByEmail(e).success(function(i){s.email=e.email,n.switchToView(o.RESETPWD_EMAIL_VALIDATE)}).failure(function(e,t){l.showErrorMessage(t,e,i)})},__checkNotExist:function(e,i,t){a.checkNotExist(i,e).success(function(){t(!0)}).failure(function(e,i){t(!1,e,i)})}})},function(e,i){e.exports={}},function(e,i,t){var n=t(17),s=t(16),a=t(2),o=t(1).actions;n.register(o.RESETPWD_EMAIL_VALIDATE,{__previous:function(){"mobile"===a.client?n.historyBack():n.switchToView(o.RESETPWD_CHOOSE)},__emailClick:function(e){window.open(e)},show:function(){this.view.show(s)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(208),o=t(40),r=(t(2),t(187)),c=t(16),l=t(62);n.register(s.RESETPWD_RESET,[a],{__previous:function(){n.switchToView(s.RESETPWD_CHOOSE)},__submit:function(e){var i=this.view;e.password=r(e.password),l.updatePwd(e).success(function(e){n.switchToView(s.RESETPWD_SUCCESS),i.reset()}).failure(function(e,t){o.showErrorMessage(t,e,i),i.reset()})},show:function(e){var i=this.view;$.extend(c,e),i.clearErrorMsg({keyup:!0}),i.show(c,e)}})},function(e,i,t){var n=t(17),s=t(62),a=t(1).actions,o=t(208),r=t(40),c=t(2),l=t(188);n.register(a.RESETPWD_SMS,[o,l],{init:function(){this._initCaptcha()},__previous:function(){"mobile"===c.client?n.historyBack():n.switchToView(a.RESETPWD_CHOOSE)},__submit:function(e){var i=this.view;s.findPwdByMobile(e).success(function(e){var i=e.Data;n.switchToView(a.RESETPWD_RESET,{username:i.UserName})}).failure(function(e,t){r.showErrorMessage(t,e,i)})},__checkNotExist:function(e,i,t){s.checkNotExist(i,e).success(function(){t(!0)}).failure(function(e,i){t(!1,e,i)})},_initCaptcha:function(){var e=this;s.isShowRegisterCaptcha().success(function(i){if(0===i.Code){var t=i.Data;t.ResetByMobile&&(e.view._showCaptcha(!0),e.view._updateCaptcha())}})}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(2),o=t(1).flow,r=t(16);n.register(s.RESETPWD_SUCCESS,{__toLogin:function(){n.oauthRedirect()||n.switchToFlow(o.LOGIN)},__previous:function(){"mobile"===a.client?n.historyBack():r.previousFlow===o.BIND?n.switchToFlow(o.BIND):n.switchToFlow(o.LOGIN)}})},function(e,i,t){var n=t(17),s=(t(2),t(1).actions);n.register(s.RESETPWD_FAIL,{__previous:function(){n.switchToView(s.RESETPWD_CHOOSE)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(62),r=t(2),c=(t(186),t(16)),l=t(81),p=t(43),h=t(40),d=t(193),u=t(60);n.register(s.REGISTER_SUCCESS_RENAME,[u],{init:function(){document.domain=p.getHost()},__changeUserName:function(e){var i=this;if(e.username===c.username){var t={Cookie:c.cookie,ticket:c.ticket};return i._changeUserNameSuccess(t)}o.changeUserName({newusername:e.username}).success(function(e){i._changeUserNameSuccess(e.Data)}).failure(function(e,t){i._changeUserNameFailure(e,t)})},_changeUserNameSuccess:function(e){var i=this,t={BISuccess:function(){l.fire("sync_login_success",{regtype:c.mobile?"mobile":"email"})},BIFailure:function(){l.fire("sync_login_failure",{regtype:e.mobile?"mobile":"email"})}};l.fire("register_success_next",{result:"success"}),this.is_trial&&(e.is_trial=!0);o.syncLogin(e,function(){t.BISuccess(),i.view._switchRegisterButtonState(!1);var e=c.mobile?"mobile":"email";"mobile"==e&&r.giftSwitch&&d.sendGiftMsg(),n.switchToView(s.REG_SUCCESS)},function(e){t.BIFailure(),i.view._switchRegisterButtonState(!1)})},_changeUserNameFailure:function(e,i){var t=this.view;l.fire("register_success_next",{result:"failure"}),h.showErrorMessage(i,e,t),t._switchRegisterButtonState(!1)},__checkExist:function(e,i,t){return i===c.username?t(!0):void o.checkUserName(i,e).success(function(){t(!0)}).failure(function(e,i){t(!1,e,i)})},fireBI:function(e){var i=c.mobile?"phone":"email";return"show"===e?(l.fire("register_success_show",{Regtype:i}),this.startTime=+new Date):"duration"===e?void l.fire("register_success_duration",{Regtype:i,duration:+new Date-this.startTime}):void 0},__previous:function(){this.fireBI("duration"),"mobile"===r.client?n.historyBack():n.switchToFlow(a.LOGIN)},show:function(e){var i=this;i.view.show(c,e),i.fireBI("show")},__showMsg:function(e){h.showErrorMessage(e)},__uploadImage:function(e){var i=this;o.uploadImage(e).success(function(e){i.view._updateAvatar(e.data.avatar)}).failure(function(e,i){})},__getAvatarFromNative:function(){var e=this;this._getAvatar(c.cookie,function(i){e.view._updateAvatar(i)})}})},function(e,i,t){var n=t(17),s=t(1).flow,a=t(1).actions,o=t(62),r=t(57),c=t(16),l=t(2),p=t(81),h=t(40),d=t(195),u=t(192),f=t(193);n.register(a.LOGIN_BIND_MOBILE,[d,u],{init:function(){this._initCaptcha()},fireType:function(e,i){var t=c.currentFlow===s.LOGIN?"old_"+e:"3rd_"+e;p.fire(t,i)},__getMessageCode:function(e){var i=this.view,t="bindmobile",n=this;this.fireType("login_telbind_getcode"),e.sendtype=t,e.checkSafe=l.checkSafe,e.token=r.token,o.sendMessage(e).success(function(e){n.isDtmClicked=!0}).failure(function(e,t){h.showErrorMessage(t,e,i)})},__previous:function(){if("mobile"===l.client)n.historyBack();else switch(c.currentFlow){case"login":n.switchToView(a.LOGIN);break;default:n.switchToView(a.LOGIN_THIRD)}},__loginNoBind:function(){var e=this,i=e.view;this.fireType("login_telbind_pass");var t=this.cacheOptions;o.quitBindMobile().success(function(i){e._syncLogin(t)}).failure(function(e,t){h.showErrorMessage(t,e,i)})},_syncLogin:function(e,i){var t=this,r=t.view,h={BISuccess:function(){p.fire("sync_login_success",{logintype:"3rd"})},BIFailure:function(){p.fire("sync_login_failure",{logintype:"3rd"})}};if(l.giftSwitch||(c.currentFlow=s.LOGIN),!e)return n.switchToView(a.LOGIN_TRANSFER);o.syncLogin(e,function(){h.BISuccess(),r.disableSubmit(!1);var t=null===e.UserTag;return c.setInterest=t,i&&l.giftSwitch&&c.currentFlow===s.LOGIN_THIRD&&f.sendGiftMsg(),"weixin"===c.thirdEntry?n.switchToView(a.LOGIN_THIRD_SUCCESS):void(t?n.switchToView(a.CATE_SELECT,!0):n.switchToView(a.LOGIN_TRANSFER))},function(){h.BIFailure()})},__submit:function(e){var i=this,t=i.view;o.bindMobile(e).success(function(){i.fireType("login_telbind_vertify",{result:"success"}),i._syncLogin(i.cacheOptions,1)}).failure(function(e,n){i.fireType("login_telbind_vertify",{result:"failure"}),h.showErrorMessage(n,e,t),t.disableSubmit(!1)})},_initCaptcha:function(){var e=this;e.view._renderCaptcha()},__clickBackBtn:function(){var e=this.view;this._getViewKey();return this.isDtmClicked?(this.fireType("login_telbind_dialog_show"),void e._showDialog(!0)):this.__previous()},__clickSkipBtn:function(){var e=this.view;this._getViewKey();return this.isDtmClicked?(this.fireType("login_telbind_dialog_show"),e._showDialog(!0),void this.fireType("login_telbind_pass")):this.__loginNoBind()},show:function(e){var i=this;this.cacheOptions=$.extend({},e),this.view.show(c),i.fireType("login_telbind_show")}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(62),r=t(16),c=t(57),l=(t(2),t(3),t(186),t(187)),p=t(81),h=(t(43),t(40)),d=t(189);n.register(s.BIND,[d],{init:function(){var e=this.view;o.isShowLoginCaptcha().success(function(i){i.Data&&i.Data.Result&&(e._showCaptcha(!0),e._updateCaptcha())})},__previous:function(){n.historyBack()},__closeView:function(){n.redirect()},__forgotPwd:function(){n.switchToFlow(a.RESETPWD)},__login:function(e){var i=this.view;e.token=c.token,e.password=l(e.password),o.login(e).success(function(e){i.disableSubmit(!1),e.Data.Mobile?n.switchToView(s.BIND_UPDATE,e.Data):n.switchToView(s.BIND_SMS,e.Data)}).failure(function(e,t){h.showErrorMessage(t,e,i),p.fire("login_failure",{errorcode:t}),i.disableSubmit(!1)})},show:function(e){p.fire("bind_login_show"),this.view.show(r)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(1).flow,o=t(57),r=t(62),c=t(2),l=t(16),p=t(81),h=(t(188),t(40));n.register(s.BIND_SMS,{init:function(){this._initCaptcha()},__getMessageCode:function(e){var i=this.view,t="bindmobile";p.fire("bind_sms_getcode"),e.mobile=l.mobile,e.sendtype=t,e.token=o.token,r.sendMessage(e).success(function(e){}).failure(function(e,t){h.showErrorMessage(t,e,i)})},__previous:function(){"mobile"===c.client?n.historyBack():n.switchToFlow(a.BIND)},__submit:function(e){var i=this,t=i.view,a=this.cacheOptions;e.mobile=l.mobile,r.bindMobile(e).success(function(){a.ticket?r.syncLogin(a,function(){p.fire("sync_login_success"),n.switchToView(s.BIND_SUCCESS)},function(){p.fire("sync_login_failure"),t.disableSubmit(!1)}):n.switchToView(s.BIND_SUCCESS)}).failure(function(e,i){h.showErrorMessage(i,e,t),t.disableSubmit(!1)})},_initCaptcha:function(){var e=this;e.view._renderCaptcha()},show:function(e){var i=this.view;this.cacheOptions=$.extend({},e),p.fire("bind_sms_show"),i.clearErrorMsg(),i.show(l,e)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=t(2),o=t(16),r=t(43),c=t(81),l=t(1).flow,p=t(62),h=t(3);n.register(s.BIND_UPDATE,{init:function(){},_syncLogin:function(e){var i=this.cacheOptions,t=function(){e?window.location.replace(e+"?return_url="+a.redirectURL):n.redirect()};i.ticket?p.syncLogin(i,function(){c.fire("sync_login_success"),t()},function(){c.fire("sync_login_failure")}):t()},__toAccountSetting:function(){if(h.isPC)var e=r.getAccountSLD()+".hujiang.com/account/mobileChange";else var e=r.getAccountSLD()+".hujiang.com/account/m#!/mobile/update";h.isWeixin?this._syncLogin(e):(window.open(e),this._syncLogin())},__cancel:function(){this._syncLogin()},__previous:function(){"mobile"===a.client?n.historyBack():n.switchToFlow(l.BIND)},show:function(e){var i=e.Mobile,t=o.mobile,n=this.view;this.cacheOptions=$.extend({},e),c.fire("bind_update_show"),n.show(i,t,e)}})},function(e,i,t){var n=t(17),s=t(1).actions,a=(t(1).flow,1e3);n.register(s.BIND_SUCCESS,{show:function(){this.view.show(),window.setTimeout(function(){n.redirect()},a)}})},function(e,i,t){var n=t(17),s=t(2),a=t(1).actions,o=t(1).flow,r=t(81);n.register(a.BIND_FAIL,{__previous:function(){"mobile"===s.client?n.historyBack():n.switchToFlow(o.BIND)},__toBindChoose:function(){n.switchToFlow(o.BIND)},show:function(){r.fire("bind_phone_fail"),this.view.show()}})},function(e,i,t){var n=t(17),s=t(1).flow,a=t(1).actions,o=t(62),r=t(57),c=t(16),l=t(2),p=t(81),h=t(40),d=t(195),u=t(192),f=(t(193),t(222)),g=t(43),m=t(60);n.register(a.BIND_MOBILE,[d,u,m],{init:function(){var e=this;e._initCaptcha()},fireType:function(e,i){var t=c.currentFlow===s.LOGIN?"old_"+e:"3rd_"+e;p.fire(t,i)},__fireBindMobileBi:function(e,i){var t=this;t.fireBindMobileBi(e,i)},fireBindMobileBi:function(e,i){var t=this;p.fire(e,$.extend({},{scene:t.scene&&t.scene},i))},__getMessageCode:function(e){var i=this.view,t="bindmobile",n=this;this.fireType("login_telbind_getcode"),e.sendtype=t,e.checkSafe=l.checkSafe,e.token=r.token,o.sendMessage(e).success(function(e){n.fireBindMobileBi("bind_moile_sms",{result:"success"})}).failure(function(e,t){n.fireBindMobileBi("bind_moile_sms",{result:"failure",message:e}),n.clientCallBack("failure",e),h.showErrorMessage(t,e,i)})},__submit:function(e){var i=this,t=i.view;o.bindMobile(e).success(function(){i.fireType("login_telbind_vertify",{result:"success"}),c.element.hpdialog("close"),i.clientCallBack("success",""),i.fireBindMobileBi("bind_moile_confirm",{result:"success"})}).failure(function(e,n){i.fireType("login_telbind_vertify",{result:"failure"}),i.fireBindMobileBi("bind_moile_confirm",{result:"failure",message:e}),h.showErrorMessage(n,e,t),t.disableSubmit(!1),i.clientCallBack("failure",e)})},_initCaptcha:function(){var e=this;e.view._renderCaptcha()},_getUserInfo:function(e){o.getUserInfo().success(function(i){var t=i.Data;e(t)}).failure(function(e,i){console.log(e,i)})},_cookieOperate:function(e,i){if(e&&i){if("get"===e)return f.hasItem(g.bindMobileCookie+i);if("set"===e){var t=this.cacheOptions.bindMobileExpires,n=g.bindMobileCookie+i,s=i,a=t&&24*t*60*60||g.bindMobileExpires;f.setItem(n,s,a)}}},_whetherSkipBindMobile:function(e){var i=this;i._SkipBindMobile("",function(t,n,s){if(null==s)return void i.clientCallBack("ignoredNeedSignin","");if(t){var a;n?n&&s&&(a="ignoredHujia"):a="ignoredOversea",i.clientCallBack(a,"")}else i._getUserInfo(function(t){if(t.Mobile)return void i.clientCallBack("ignoredBinded","");var n=i._cookieOperate("get",t.UserId);i.userInfo=t,n?i.clientCallBack("ignoredThreshold",""):e&&e()})})},clientCallBack:function(e,i){var t=this;t.bindMobileCallBack&&t.bindMobileCallBack({state:e,message:i&&i||""})},__skipBindMobile:function(){var e=this,i=function(i){e._cookieOperate("set",i),e.clientCallBack("ignored","")};this.userInfo?i(e.userInfo.UserId):this._getUserInfo(function(e){i(e.UserId)})},show:function(e){var i=this;i.cacheOptions=$.extend(!0,{},e),i.bindMobileCallBack=e.bindMobileCallBack&&e.bindMobileCallBack,i.scene=e.bindMobileScene&&e.bindMobileScene,i.fireBindMobileBi("bind_moile_show_transfer"),i.view.show(c,e),i._whetherSkipBindMobile(function(){c.element.hpdialog("open"),i.fireBindMobileBi("bind_moile_show")})}})},function(e,i){var t={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,i,t,n,s,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(t)switch(t.constructor){case Number:o=t===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:o="; expires="+t;break;case Date:o="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+o+(s?"; domain="+s:"")+(n?"; path="+n:"")+(a?"; secure":""),!0},removeItem:function(e,i,t){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(i?"; path="+i:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),i=0;i<e.length;i++)e[i]=decodeURIComponent(e[i]);return e}};e.exports=t},function(e,i,t){var n=t(17),s=t(1),a=(s.flow,s.actions),o=t(2);n.register(a.USER_PROTOCOL,{init:function(){},__previous:function(){var e=this;if("mobile"===o.client)n.historyBack();else switch(e.registerType){case"email":n.switchToView(a.REGISTER_EMAIL);break;default:n.switchToView(a.REGISTER_MOBILE)}},show:function(e){var i=this;i.registerType=e.registerType?e.registerType:"",i.view.show()}})}]);